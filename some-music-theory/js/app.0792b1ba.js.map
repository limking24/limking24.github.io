{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/audio/notes/piano-d-sharp-6.mp3","webpack:///./src/assets/audio/notes/piano-d-sharp-4.mp3","webpack:///./src/assets/audio/notes/piano-c-6.mp3","webpack:///./src/components/chroma-picker.vue?9e53","webpack:///./src/assets/audio/notes/piano-a-3.mp3","webpack:///./src/components/scale-type-picker.vue?87f9","webpack:///./src/components/scale-notes-table.vue?661e","webpack:///./src/assets/audio/notes/piano-c-4.mp3","webpack:///./src/app.vue?6d18","webpack:///./src/components/modal.vue?f0f1","webpack:///./src/views/scale-finder-interface.vue?3e31","webpack:///./src/components/scale-finder.vue?7900","webpack:///./src/components/major-minor-scale-triads-score.vue?9020","webpack:///./src/assets/audio/notes/piano-f-sharp-4.mp3","webpack:///./src/components/sampler-play-button.vue?1f6a","webpack:///./src/views/not-found.vue?b7f0","webpack:///./src/assets/audio/notes/piano-f-sharp-5.mp3","webpack:///./src/app.vue?bbb1","webpack:///./src/components/modal.vue?ae17","webpack:///./src/components/modal.vue?a41c","webpack:///./src/components/modal.vue","webpack:///./src/app.vue?31de","webpack:///./src/app.vue","webpack:///./src/audio/sampler-facade.ts","webpack:///./src/views/home.vue?65b3","webpack:///./src/views/home.vue?43bb","webpack:///./src/views/home.vue","webpack:///./src/views/major-minor-scale-triads-search.vue?f269","webpack:///./src/components/major-minor-scale-picker.vue?1910","webpack:///./src/models/scale-tonic.ts","webpack:///./src/models/major-minor-scale.ts","webpack:///./src/components/major-minor-scale-picker.vue?750c","webpack:///./src/components/major-minor-scale-picker.vue","webpack:///./src/components/major-minor-scale-triads-score.vue?e356","webpack:///./src/audio/sampler-play-button.ts","webpack:///./src/audio/dom-based-sampler-play-button.ts","webpack:///./src/functional/string.ts","webpack:///./src/data/data.ts","webpack:///./src/data-access/database.ts","webpack:///./src/data-access/scale-dao.ts","webpack:///./src/functional/scale.ts","webpack:///./src/models/major-minor-scale-triads-score.ts","webpack:///./src/components/major-minor-scale-triads-score.vue?6c88","webpack:///./src/components/major-minor-scale-triads-score.vue","webpack:///./src/views/major-minor-scale-triads-search.vue?0e56","webpack:///./src/views/major-minor-scale-triads-search.vue","webpack:///./src/views/not-found.vue","webpack:///./src/views/not-found.vue?4da9","webpack:///./src/views/scale-finder-interface.vue?d0ff","webpack:///./src/components/chroma-picker.vue?7c37","webpack:///./src/models/chroma.ts","webpack:///./src/components/chroma-picker.vue?e698","webpack:///./src/components/chroma-picker.vue","webpack:///./src/components/scale-finder.vue?4ba2","webpack:///./src/models/scale-supertype.ts","webpack:///./src/models/scale-finder.ts","webpack:///./src/components/sampler-play-button.vue?1387","webpack:///./src/components/sampler-play-button.vue?cbb3","webpack:///./src/components/sampler-play-button.vue","webpack:///./src/components/scale-finder.vue?c18b","webpack:///./src/components/scale-finder.vue","webpack:///./src/views/scale-finder-interface.vue?cd75","webpack:///./src/views/scale-finder-interface.vue","webpack:///./src/views/scale-notes-table-search.vue?1b7f","webpack:///./src/components/scale-notes-table.vue?549a","webpack:///./src/models/scale-notes-table.ts","webpack:///./src/components/scale-notes-table.vue?f9ad","webpack:///./src/components/scale-notes-table.vue","webpack:///./src/components/scale-type-picker.vue?1f08","webpack:///./src/models/scale-type-picker.ts","webpack:///./src/components/scale-type-picker.vue?97dd","webpack:///./src/components/scale-type-picker.vue","webpack:///./src/views/scale-notes-table-search.vue?d298","webpack:///./src/views/scale-notes-table-search.vue","webpack:///./src/router/index.ts","webpack:///./src/config/audio.config.ts","webpack:///./src/config/data-access-config.ts","webpack:///./src/main.ts","webpack:///./src/assets/audio/notes/piano-a-5.mp3","webpack:///./src/assets/audio/notes/piano-d-sharp-5.mp3","webpack:///./src/components/major-minor-scale-picker.vue?c493","webpack:///./src/assets/audio/notes/piano-a-4.mp3","webpack:///./src/assets/audio/notes/piano-c-5.mp3"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","render","_ctx","_cache","$props","$setup","$data","$options","_component_router_link","_component_router_view","_component_modal","atHome","id","onClick","$event","navButtonClicked","class","active","toShowNav","to","default","_","firstTimer","onClose","closeFirstTimerMessage","header","body","close","$slots","undefined","__exports__","this","localStorage","getItem","from","setItem","immediate","components","Modal","_sampler","_lock","_transport","Transport","getDefaults","notes","optional","acquire","Promise","all","wasPlaying","reset","_onStop","onStop","duration","delay","forEach","redenoted","enharmonic","map","note","scheduleOnce","time","triggerAttackRelease","stop","start","state","cancel","_component_major_minor_scale_picker","_component_major_minor_scale_triads_score","scale","onPicked","updateRoute","for","_hoisted_10","_hoisted_11","_hoisted_12","type","onChange","loadSubtype","target","size","types","subtype","loadTonics","subtypes","tonic","changeScaleKey","scaleKeys","display","entries","All","index","Entries","findIndex","entry","Enharmonic","indexOfTonic","range","upper","lower","Types","MajorSubtypes","MinorSubtypes","Accidentals","createScaleKeys","getTonicRangeUpperBound","reduce","options","subtypeToRef","getScaleName","isValid","indexOfTonicKey","keys","showTonicOptionAtCenter","func","scaleKey","select","$el","querySelector","option","scrollTop","scrollHeight","document","readyState","$nextTick","addEventListener","PlaySymbol","StopSymbol","_element","_onPlay","textContent","style","cursor","play","onSamplerStopped","toTitleCase","split","word","toUpperCase","substr","toLowerCase","join","rotateLeft","text","noOfChars","cutoff","rotateRight","patch","intervals","chroma","assign","writable","Replacement","'","toKey","ref","replace","char","scaleTypes","Array","tonicRanges","createTonicRanges","names","aliases","aliasKeys","filter","k","supertype","tonicRange","version","stores","table","on","Reflect","populate","open","bulkAdd","_db","where","equalsIgnoreCase","first","ofNullable","equals","toArray","orderBy","uniqueKeys","array","part","Number","scales","isPresent","getNotesWithin","notesPerOctave","fromPosition","toPosition","fromPitch","toPitch","rangeOf","allTonicsNotes","asDemonstration","scaleNotes","startPitch","charCodeAt","endPitch","getStartingPitch","includes","charAt","getTriadNotes","getTriads","refNoAccidentals","mid","tonicNoAccidentals","tonicOfIndex","triads","addAccidental","triadStrings","triad","indices","accidental","TriadSuffixes","getTriadsName","suffixes","getMajorKeySignature","ionianUpper","triadNotes","clear","draw","enableHighlight","initPlayButtons","triadNames","keySignature","vf","Flow","Factory","renderer","elementId","width","score","EasyScore","system","System","chordTextPosition","chordTextNotes","TextNote","setJustification","Justification","CENTER","setLine","playButtons","fill","x","addStave","voices","voice","addClef","addKeySignature","querySelectorAll","element","y","noteIndex","clazz","selector","classList","add","remove","sampler","chordIndex","getElementById","ifPresent","hasChildNodes","removeChild","lastChild","required","$router","MajorMinorScalePicker","MajorMinorScaleTriadsScore","script","_component_chroma_picker","_component_scale_finder","showResults","onContextmenu","min","max","pianoKeys","color","valueOf","toggle","onMousedown","attack","onMouseup","release","label","$emit","clone","disabled","pickDisabled","buttonLabel","resetDisabled","_value","Boolean","Chroma","noOfNotes","then","triggerAttack","releaseAll","emits","colspan","_hoisted_13","_component_sampler_play_button","hidden","loading","totalNoOfScales","noOfScales","results","group","order","toggleCollapsed","collapsed","displaySupertype","toggleHighlight","highlight","showAlternative","dim","isCurrent","tooltip","hasAliases","pluralize","onPlay","ScaleSupertype","sort","a","b","localeCompare","_currentTonic","currentTonic","toString","isPlaying","symbol","Tonics","values","total","number","count","regex","RegExp","flag","matched","Chromatic","test","scaleDao","tonicFirst","isWithin","alterative","enharmonicOfTonic","SamplerPlayButton","ChromaPicker","ScaleFinder","_component_scale_type_picker","_component_scale_notes_table","scaleType","exclude","scaleName","alias","rows","row","onMouseover","toggleHovered","onMouseout","toggleClicked","hovered","clicked","gradualDim","accidentals","tonicIndex","enharmonicOfTonicIndex","orElse","_aliases","numberOfAliases","enharmonicIndex","displayOf","notesArray","require","loadTypes","supertypes","aliasOfSelected","resolve","empty","loadSuperTypes","excludeSupertypes","getBySupertype","toggleAliasHighlight","selected","offsetTop","newType","oldType","toggleAliasOfSelected","ScaleTypePicker","ScaleNotesTable","routes","path","component","props","route","params","children","redirect","router","history","PianoSamples","PianoSampler","toDestination","PianoSamplerFacade","beforeEach","next","bindName","factory","configure","use","mount"],"mappings":"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","file":"js/app.0792b1ba.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/some-music-theory/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"media/piano-d-sharp-6.e67a7786.mp3\";","module.exports = __webpack_public_path__ + \"media/piano-d-sharp-4.ce1ad90e.mp3\";","module.exports = __webpack_public_path__ + \"media/piano-c-6.8b765e32.mp3\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./chroma-picker.vue?vue&type=style&index=0&id=134bf3e2&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"media/piano-a-3.47a86ffc.mp3\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./scale-type-picker.vue?vue&type=style&index=0&id=e71b5c2c&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./scale-notes-table.vue?vue&type=style&index=0&id=3eeed8da&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"media/piano-c-4.fb3f5d4b.mp3\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./app.vue?vue&type=style&index=0&id=24a9a560&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./modal.vue?vue&type=style&index=0&id=07a36279&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./scale-finder-interface.vue?vue&type=style&index=0&id=d3509604&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./scale-finder.vue?vue&type=style&index=0&id=23c4de34&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./major-minor-scale-triads-score.vue?vue&type=style&index=0&id=a5dd8e8a&lang=css\"","module.exports = __webpack_public_path__ + \"media/piano-f-sharp-4.0a4bf6de.mp3\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sampler-play-button.vue?vue&type=style&index=0&id=50a92304&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./not-found.vue?vue&type=style&index=0&id=2fd0b0e2&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"media/piano-f-sharp-5.041d77bb.mp3\";","import { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, Transition as _Transition, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", null, null, -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", null, null, -1)\nconst _hoisted_3 = [\n  _hoisted_1,\n  _hoisted_2\n]\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"some-music-theory\", -1)\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"Scale Finder\")\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"Scale Notes Table\")\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"Major & Minor Scale Triads\")\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\" Hello! \")\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\" I've built this website for myself to facilitate songwriting. I've only tested it on Chrome (desktop) currently, and plan to ensure cross-browser compatibility and make it mobile-friendly in the future. \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_router_view = _resolveComponent(\"router-view\")!\n  const _component_modal = _resolveComponent(\"modal\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (!_ctx.atHome)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          id: \"nav-button\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.navButtonClicked = !_ctx.navButtonClicked)),\n          class: _normalizeClass({active: _ctx.navButtonClicked})\n        }, _hoisted_3, 2))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      id: \"nav\",\n      class: _normalizeClass({'visible': _ctx.toShowNav})\n    }, [\n      _hoisted_4,\n      _createVNode(_component_router_link, { to: \"/scale-finder\" }, {\n        default: _withCtx(() => [\n          _hoisted_5\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_router_link, { to: \"/scale-notes-table\" }, {\n        default: _withCtx(() => [\n          _hoisted_6\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_router_link, { to: \"/scale-triads\" }, {\n        default: _withCtx(() => [\n          _hoisted_7\n        ]),\n        _: 1\n      })\n    ], 2),\n    _createVNode(_component_router_view, {\n      id: \"view\",\n      class: _normalizeClass({'visible': !_ctx.toShowNav})\n    }, null, 8, [\"class\"]),\n    _createVNode(_Transition, { name: \"modal\" }, {\n      default: _withCtx(() => [\n        (_ctx.firstTimer)\n          ? (_openBlock(), _createBlock(_component_modal, {\n              key: 0,\n              onClose: _ctx.closeFirstTimerMessage\n            }, {\n              header: _withCtx(() => [\n                _hoisted_8\n              ]),\n              body: _withCtx(() => [\n                _hoisted_9\n              ]),\n              _: 1\n            }, 8, [\"onClose\"]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ], 64))\n}","import { createElementVNode as _createElementVNode, renderSlot as _renderSlot, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-07a36279\")\nconst _hoisted_1 = { class: \"modal-header\" }\nconst _hoisted_2 = { class: \"modal-body\" }\n_popScopeId()\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"modal\",\n    onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.close && _ctx.close(...args)))\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"modal-content\",\n      onClick: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"stop\"]))\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"span\", {\n          class: \"close\",\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.close && _ctx.close(...args)))\n        }, \"\"),\n        _createElementVNode(\"h3\", null, [\n          _renderSlot(_ctx.$slots, \"header\", {}, undefined, true)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _renderSlot(_ctx.$slots, \"body\", {}, undefined, true)\n      ])\n    ])\n  ]))\n}","\r\nimport { Vue } from 'vue-class-component';\r\nimport { Emit } from 'vue-property-decorator';\r\n\r\nexport default class Modal extends Vue {\r\n\r\n\t@Emit('close')\r\n\tclose(): void {}\r\n\r\n}\r\n","import { render } from \"./modal.vue?vue&type=template&id=07a36279&scoped=true&ts=true\"\nimport script from \"./modal.vue?vue&type=script&lang=ts\"\nexport * from \"./modal.vue?vue&type=script&lang=ts\"\n\nimport \"./modal.vue?vue&type=style&index=0&id=07a36279&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07a36279\"]])\n\nexport default __exports__","\r\nimport Modal from '@/components/modal.vue';\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Watch } from 'vue-property-decorator';\r\nimport { RouteLocation } from 'vue-router';\r\n\r\n@Options({\r\n\tcomponents: {\r\n\t\tModal\r\n\t}\r\n})\r\nexport default class App extends Vue {\r\n\r\n\tatHome = false;\r\n\r\n\tnavButtonClicked = false;\r\n\r\n\tfirstTimer = false;\r\n\r\n\tget toShowNav(): boolean {\r\n\t\treturn this.atHome || this.navButtonClicked;\r\n\t}\r\n\r\n\tmounted(): void {\r\n\t\tthis.firstTimer = localStorage.getItem('firstTimer') == null;\r\n\t}\r\n\r\n\t@Watch('$route', {immediate: true})\r\n\tonRouteChanged(to: RouteLocation, from: RouteLocation): void {\r\n\t\tthis.navButtonClicked = false;\r\n\t\tthis.atHome = to.name === 'home';\r\n\t}\r\n\r\n\tcloseFirstTimerMessage(): void {\r\n\t\tlocalStorage.setItem('firstTimer', 'false');\r\n\t\tthis.firstTimer = false;\r\n\t}\r\n\r\n}\r\n","import { render } from \"./app.vue?vue&type=template&id=24a9a560&ts=true\"\nimport script from \"./app.vue?vue&type=script&lang=ts\"\nexport * from \"./app.vue?vue&type=script&lang=ts\"\n\nimport \"./app.vue?vue&type=style&index=0&id=24a9a560&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { Note } from '@tonaljs/tonal';\r\nimport AsyncLock from 'async-lock';\r\nimport * as Tone from 'tone';\r\nimport { Sampler } from 'tone';\r\nimport { Transport } from 'tone/build/esm/core/clock/Transport';\r\n\r\nexport type onStop = () => void;\r\n\r\nexport interface Optional {\r\n\tduration?: number,\r\n\tonStop?: onStop;\r\n}\r\n\r\nexport class SamplerFacade {\r\n\r\n\tprivate _lock = new AsyncLock();\r\n\r\n\tprivate _transport = new Transport(Transport.getDefaults());\r\n\r\n\tprivate _onStop?: onStop;\r\n\r\n\tpublic constructor(private _sampler: Sampler) {}\r\n\r\n\tpublic async play(notes: (string|string[])[], optional?: Optional): Promise<void> {\r\n\t\tthis._lock.acquire('sampler', async () => {\r\n\t\t\tawait Promise.all([Tone.start(), Tone.loaded()]);\r\n\t\t\tlet wasPlaying = this.reset();\r\n\t\t\tthis._onStop = optional?.onStop;\r\n\t\t\tlet duration = optional?.duration ? optional.duration : 0.5;\r\n\t\t\tlet delay = wasPlaying ? 0.5 : 0.1;\r\n\t\t\tnotes.forEach(n => {\r\n\t\t\t\tlet redenoted = (typeof n === 'string') ? Note.enharmonic(n) : n.map(note => Note.enharmonic(note));\r\n\t\t\t\tthis._transport.scheduleOnce(time => this._sampler.triggerAttackRelease(redenoted, duration, time), delay);\r\n\t\t\t\tdelay += duration;\r\n\t\t\t});\r\n\t\t\tthis._transport.scheduleOnce(time => this.stop(), delay);\r\n\t\t\tthis._transport.start();\r\n\t\t});\r\n\t}\r\n\r\n\tpublic stop(): void {\r\n\t\tthis._lock.acquire('sampler', () => {\r\n\t\t\tthis.reset();\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Stop the sampler and remove all scheduled events.\r\n\t */\r\n\tprivate reset(): boolean {\r\n\t\tif (this._transport.state !== 'stopped') {\r\n\t\t\tthis._transport.stop();\r\n\t\t\tthis._transport.cancel();\r\n\t\t\tif (this._onStop) {\r\n\t\t\t\tthis._onStop();\r\n\t\t\t\tthis._onStop = undefined;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n}","\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return null\n}","\r\nimport { Vue } from 'vue-class-component';\r\n\r\nexport default class Home extends Vue {}\r\n","import { render } from \"./home.vue?vue&type=template&id=20c128d1&ts=true\"\nimport script from \"./home.vue?vue&type=script&lang=ts\"\nexport * from \"./home.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Major & Minor Scale Triads\", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_major_minor_scale_picker = _resolveComponent(\"major-minor-scale-picker\")!\n  const _component_major_minor_scale_triads_score = _resolveComponent(\"major-minor-scale-triads-score\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _hoisted_1,\n    _createVNode(_component_major_minor_scale_picker, {\n      scale: _ctx.scale,\n      onPicked: _ctx.updateRoute\n    }, null, 8, [\"scale\", \"onPicked\"]),\n    _createVNode(_component_major_minor_scale_triads_score, { scale: _ctx.scale }, null, 8, [\"scale\"])\n  ]))\n}","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-07dac1f8\")\nconst _hoisted_1 = { class: \"major-minor-scale-picker\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"type\" }, \"Scale\", -1)\nconst _hoisted_3 = [\"value\"]\nconst _hoisted_4 = [\"value\"]\nconst _hoisted_5 = { for: \"subtype\" }\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"Type\")\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"Mode\")\nconst _hoisted_8 = [\"value\"]\nconst _hoisted_9 = [\"value\"]\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"tonic\" }, \"Tonic\", -1)\nconst _hoisted_11 = [\"value\"]\nconst _hoisted_12 = [\"value\"]\n_popScopeId()\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", null, [\n      _hoisted_2,\n      _createElementVNode(\"select\", {\n        value: _ctx.type,\n        onChange: _cache[0] || (_cache[0] = ($event: any) => (_ctx.loadSubtype($event.target.value))),\n        id: \"type\",\n        size: \"7\"\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.types, (type, key) => {\n          return (_openBlock(), _createElementBlock(\"option\", {\n            key: key,\n            value: key\n          }, _toDisplayString(type), 9, _hoisted_4))\n        }), 128))\n      ], 40, _hoisted_3)\n    ]),\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"label\", _hoisted_5, [\n        (_ctx.type === 'minor')\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n              _hoisted_6\n            ], 64))\n          : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n              _hoisted_7\n            ], 64))\n      ]),\n      _createElementVNode(\"select\", {\n        value: _ctx.subtype,\n        onChange: _cache[1] || (_cache[1] = ($event: any) => (_ctx.loadTonics($event.target.value))),\n        id: \"subtype\",\n        size: \"7\"\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.subtypes, (subtype, key) => {\n          return (_openBlock(), _createElementBlock(\"option\", {\n            key: key,\n            value: key\n          }, _toDisplayString(subtype), 9, _hoisted_9))\n        }), 128))\n      ], 40, _hoisted_8)\n    ]),\n    _createElementVNode(\"div\", null, [\n      _hoisted_10,\n      _createElementVNode(\"select\", {\n        value: `${_ctx.scale.tonic} ${_ctx.scale.subtype}`,\n        onChange: _cache[2] || (_cache[2] = ($event: any) => (_ctx.changeScaleKey($event.target.value))),\n        id: \"tonic\",\n        size: \"7\"\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.scaleKeys, (tonic, key) => {\n          return (_openBlock(), _createElementBlock(\"option\", {\n            key: key,\n            value: key\n          }, _toDisplayString(tonic.display), 9, _hoisted_12))\n        }), 128))\n      ], 40, _hoisted_11)\n    ])\n  ]))\n}","import { ScaleTonicRange } from '@/data/scale-type';\r\n\r\nexport class ScaleTonic {\r\n\r\n\tpublic static readonly All: Record<string, string> = {\r\n\t\t'f-flat': \t\t\t 'Fb',\r\n\t\t'c-flat': \t\t\t 'Cb',\r\n\t\t'g-flat': \t\t\t 'Gb',\r\n\t\t'd-flat': \t\t\t 'Db',\r\n\t\t'a-flat': \t\t\t 'Ab',\r\n\t\t'e-flat': \t\t\t 'Eb',\r\n\t\t'b-flat': \t\t\t 'Bb',\r\n\t\t'f': \t\t\t\t 'F' ,\r\n\t\t'c': \t\t\t\t 'C' ,\r\n\t\t'g': \t\t\t\t 'G' ,\r\n\t\t'd': \t\t\t\t 'D' ,\r\n\t\t'a': \t\t\t\t 'A' ,\r\n\t\t'e': \t\t\t\t 'E' ,\r\n\t\t'b': \t\t\t\t 'B' ,\r\n\t\t'f-sharp': \t\t\t 'F#',\r\n\t\t'c-sharp': \t\t\t 'C#',\r\n\t\t'g-sharp': \t\t\t 'G#',\r\n\t\t'd-sharp': \t\t\t 'D#',\r\n\t\t'a-sharp': \t\t\t 'A#',\r\n\t\t'e-sharp': \t\t\t 'E#',\r\n\t\t'b-sharp': \t\t\t 'B#'\r\n\t};\r\n\r\n\tpublic static readonly Enharmonic = ['E', 'B', 'F#', 'C#', 'G#', 'D#', 'A#', 'E#', 'B#', undefined, undefined, undefined, 'Fb', 'Cb', 'Gb', 'Db', 'Ab', 'Eb', 'Bb', 'F', 'C'];\r\n\r\n\tpublic static get Entries(): [key: string, tonic: string][] {\r\n\t\treturn Object.entries(this.All);\r\n\t}\r\n\r\n\tpublic static tonicKeyOfIndex(index: number): string {\r\n\t\treturn this.Entries[index][0];\r\n\t}\r\n\r\n\tpublic static tonicOfIndex(index: number): string {\r\n\t\treturn this.Entries[index][1];\r\n\t}\r\n\r\n\tpublic static indexOfTonicKey(key: string): number {\r\n\t\treturn this.Entries.findIndex(entry => entry[0] === key);\r\n\t}\r\n\r\n\tpublic static indexOfTonic(tonic: string): number {\r\n\t\treturn this.Entries.findIndex(entry => entry[1] === tonic);\r\n\t}\r\n\r\n\tpublic static enharmonicOfTonicIndex(index: number): string | undefined {\r\n\t\treturn this.Enharmonic[index];\r\n\t}\r\n\r\n\tpublic static enharmonicOfTonic(tonic: string): string | undefined {\r\n\t\treturn this.Enharmonic[this.indexOfTonic(tonic)];\r\n\t}\r\n\r\n\tpublic static isWithin(range: ScaleTonicRange, tonic: string): boolean {\r\n\t\tlet index = this.indexOfTonic(tonic);\r\n\t\treturn range.upper <= index && index <= range.lower;\r\n\t}\r\n\r\n}","import { ScaleTonic } from './scale-tonic';\r\n\r\nexport interface MajorMinorScale {\r\n\ttype: string;\r\n\tsubtype: string;\r\n\ttonic: string;\r\n}\r\n\r\nexport const Types: Record<string, string> = {\r\n\t'major':\t\t\t'Major',\r\n\t'minor':\t\t\t'Minor'\t\r\n};\r\n\r\nexport const MajorSubtypes: Record<string, string> = {\r\n\t'ionian':\t\t\t'Ionian', \r\n\t'dorian':\t\t\t'Dorian', \r\n\t'phrygian':\t\t\t'Phrygian', \r\n\t'lydian':\t\t\t'Lydian', \r\n\t'mixolydian':\t\t'Mixolydian', \r\n\t'aeolian':\t\t\t'Aeolian', \r\n\t'locrian':\t\t\t'Locrian'\r\n};\r\n\r\nexport const MinorSubtypes: Record<string, string> = {\r\n\t'natural':\t\t\t'Natural',\r\n\t'harmonic':\t\t\t'Harmonic',\r\n\t'melodic':\t\t\t'Melodic'\r\n}\r\n\r\n/**\r\n * Used to create tonic options.\r\n */\r\n const Accidentals = [\r\n\t' (bbbbbbb)',\r\n\t' (bbbbbb)',\r\n\t' (bbbbb)',\r\n\t' (bbbb)',\r\n\t' (bbb)',\r\n\t' (bb)',\r\n\t' (b)',\r\n\t'',\r\n\t' (#)',\r\n\t' (##)',\r\n\t' (###)',\r\n\t' (####)',\r\n\t' (#####)',\r\n\t' (######)',\r\n\t' (#######)'\r\n];\r\n\r\nexport interface Tonic {\r\n\ttonic: string;\r\n\tdisplay: string;\r\n}\r\n\r\n/**\r\n * Create tonic options for the given subtype.\r\n * \r\n * For example, the options for major ionian will be:\r\n * ```\r\n * {\r\n *   'c-flat ionian' : \t\t\t{ tonic: c-flat', \t\tdisplay: 'Cb (bbbbbbb)' },\r\n *   'g-flat ionian' : \t\t\t{ tonic: g-flat', \t\tdisplay: 'Gb (bbbbbb)' },\r\n *   'd-flat ionian' : \t\t\t{ tonic: d-flat', \t\tdisplay: 'Db (bbbbb)' },\r\n *   'a-flat ionian' : \t\t\t{ tonic: a-flat', \t\tdisplay: 'Ab (bbbb)' },\r\n *   'e-flat ionian' : \t\t\t{ tonic: e-flat', \t\tdisplay: 'Eb (bbb)' },\r\n *   'b-flat ionian' : \t\t\t{ tonic: b-flat', \t\tdisplay: 'Bb (bb)' },\r\n *   'f ionian' : \t\t\t\t{ tonic: f', \t\t\tdisplay: 'F (b)' },\r\n *   'c ionian' : \t\t\t\t{ tonic: c', \t\t\tdisplay: 'C' },\r\n *   'g ionian' : \t\t\t\t{ tonic: g', \t\t\tdisplay: 'G (#)' },\r\n *   'd ionian' : \t\t\t\t{ tonic: d', \t\t\tdisplay: 'D (##)' },\r\n *   'a ionian' : \t\t\t\t{ tonic: a', \t\t\tdisplay: 'A (###)' },\r\n *   'e ionian' : \t\t\t\t{ tonic: e', \t\t\tdisplay: 'E (####)' },\r\n *   'b ionian' : \t\t\t\t{ tonic: b', \t\t\tdisplay: 'B (#####)' },\r\n *   'f-sharp ionian' : \t\t{ tonic: f-sharp', \t\tdisplay: 'F# (######)' },\r\n *   'c-sharp ionian' : \t\t{ tonic: c-sharp', \t\tdisplay: 'C# (#######)' }\r\n * }\r\n * ```\r\n * \r\n * @param tonic key of scale subtype\r\n * @returns tonic options\r\n */\r\n export function createScaleKeys(subtype: string): Record<string, Tonic> {\r\n\tlet upper = getTonicRangeUpperBound(subtype);\r\n\tif (upper === -1) {\r\n\t\treturn {};\r\n\t}\r\n\treturn ScaleTonic\r\n\t\t\t.Entries\r\n\t\t\t.slice(upper, upper + 15)\r\n\t\t\t.reduce((options, entry, index) => {\r\n\t\t\t\toptions[`${entry[0]} ${subtype}`] = {\r\n\t\t\t\t\ttonic: entry[0],\r\n\t\t\t\t\tdisplay: entry[1] + Accidentals[index]\r\n\t\t\t\t};\r\n\t\t\t\treturn options;\r\n\t\t\t}, {} as Record<string, Tonic>);\r\n}\r\n\r\nexport function getTonicRangeUpperBound(subtype: string): number {\r\n\tswitch(subtype) {\r\n\t\tcase 'ionian':\t\treturn 1;\r\n\t\tcase 'dorian':\t\treturn 3;\r\n\t\tcase 'phrygian':\treturn 5;\r\n\t\tcase 'lydian':\t\treturn 0;\r\n\t\tcase 'mixolydian':\treturn 2;\r\n\t\tcase 'aeolian':\t\treturn 4;\r\n\t\tcase 'locrian':\t\treturn 6;\r\n\t\tcase 'natural':\t\treturn 4;\r\n\t\tcase 'harmonic':\treturn 4;\r\n\t\tcase 'melodic':\t\treturn 4;\r\n\t\tdefault: \t\t\treturn -1;\r\n\t}\r\n}\r\n\r\nexport function subtypeToRef(subtype: string): string {\r\n\tswitch (subtype) {\r\n\t\tcase 'harmonic':\r\n\t\tcase 'melodic':\r\n\t\t\treturn `${subtype} minor`;\r\n\t\tcase 'natural':\r\n\t\t\treturn 'minor';\r\n\t\tdefault:\r\n\t\t\treturn subtype;\r\n\t}\r\n}\r\n\r\nexport function getScaleName(scale: MajorMinorScale): string {\r\n\tlet tonic = ScaleTonic.All[scale.tonic];\r\n\tif (scale.type === 'minor') {\r\n\t\tif (scale.subtype === 'natural') {\r\n\t\t\treturn `${tonic} Minor Scale`;\r\n\t\t} else {\r\n\t\t\treturn `${tonic} ${MinorSubtypes[scale.subtype]} Minor Scale`;\r\n\t\t}\r\n\t} else {\r\n\t\treturn `${tonic} ${MajorSubtypes[scale.subtype]} Scale`;\r\n\t}\r\n}\r\n\r\nexport function isValid(scale: MajorMinorScale): boolean {\r\n\tif ((scale.type === 'major' && !(scale.subtype in MajorSubtypes)) ||\r\n\t\t(scale.type === 'minor' && !(scale.subtype in MinorSubtypes))) {\r\n\t\treturn false;\r\n\t}\r\n\tlet upper = getTonicRangeUpperBound(scale.subtype);\r\n\tlet lower = upper + 14;\r\n\tlet index = ScaleTonic.indexOfTonicKey(scale.tonic);\r\n\treturn index >= upper && index <= lower;\r\n}","\r\nimport { createScaleKeys, MajorMinorScale, MajorSubtypes, MinorSubtypes, Tonic, Types } from '@/models/major-minor-scale';\r\nimport { Vue } from 'vue-class-component';\r\nimport { Emit, Prop } from 'vue-property-decorator';\r\n\r\nexport default class MajorMinorScalePicker extends Vue {\r\n\r\n\t@Prop({default: {}})\r\n\tscale!: MajorMinorScale;\r\n\r\n\ttypes = Types;\r\n\r\n\tsubtypes = {} as Record<string, string>;\r\n\r\n\tscaleKeys = {} as Record<string, Tonic>;\r\n\r\n\ttype = '';\r\n\r\n\tsubtype = '';\r\n\r\n\tmounted(): void {\r\n\t\tthis.loadSubtype(this.scale.type, this.scale.subtype);\r\n\t}\r\n\r\n\tloadSubtype(type?: string, subtype?: string): void {\r\n\t\tif (type === 'minor') {\r\n\t\t\tthis.type = 'minor';\r\n\t\t\tthis.subtypes = MinorSubtypes;\r\n\t\t} else {\r\n\t\t\tthis.type = 'major';\r\n\t\t\tthis.subtypes = MajorSubtypes;\r\n\t\t}\r\n\t\tthis.loadTonics(subtype);\r\n\t}\r\n\r\n\tloadTonics(subtype?: string): void {\r\n\t\tthis.subtype = (subtype! in this.subtypes) ? subtype! : Object.keys(this.subtypes)[0];\r\n\t\tthis.scaleKeys = createScaleKeys(this.subtype);\r\n\t\tthis.showTonicOptionAtCenter();\r\n\t}\r\n\r\n\tshowTonicOptionAtCenter(): void {\r\n\t\tlet func = () => {\r\n\t\t\tlet scaleKey = `${this.scale.tonic} ${this.scale.subtype}`;\r\n\t\t\tlet index = Object.keys(this.scaleKeys).findIndex(key => key === scaleKey);\r\n\t\t\tif (index === -1) {\r\n\t\t\t\tindex = 7;\r\n\t\t\t}\r\n\t\t\tlet select = this.$el.querySelector('#tonic');\r\n\t\t\tlet option = select.options[index];\r\n\t\t\tselect.scrollTop = option.scrollHeight * (index - 3);\r\n\t\t};\r\n\t\tif (document.readyState === 'complete') {\r\n\t\t\tthis.$nextTick(func);\r\n\t\t} else {\r\n\t\t\twindow.addEventListener('load', func);\r\n\t\t}\r\n\t}\r\n\r\n\t@Emit('picked')\r\n\tchangeScaleKey(scaleKey: string): MajorMinorScale {\r\n\t\treturn {\r\n\t\t\ttype: this.type,\r\n\t\t\tsubtype: this.subtype,\r\n\t\t\ttonic: this.scaleKeys[scaleKey].tonic\r\n\t\t};\r\n\t}\r\n\r\n}\r\n","import { render } from \"./major-minor-scale-picker.vue?vue&type=template&id=07dac1f8&scoped=true&ts=true\"\nimport script from \"./major-minor-scale-picker.vue?vue&type=script&lang=ts\"\nexport * from \"./major-minor-scale-picker.vue?vue&type=script&lang=ts\"\n\nimport \"./major-minor-scale-picker.vue?vue&type=style&index=0&id=07dac1f8&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07dac1f8\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"scale-name\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"help\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"help-content\" }, [\n    /*#__PURE__*/_createElementVNode(\"ul\", null, [\n      /*#__PURE__*/_createElementVNode(\"li\", null, \"Hover over a note to highlight it.\"),\n      /*#__PURE__*/_createElementVNode(\"li\", null, \"Click on  to play the chord;  to stop.\")\n    ])\n  ])\n], -1)\nconst _hoisted_3 = [\"id\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.name)\n    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n        _createElementVNode(\"div\", _hoisted_1, [\n          _createElementVNode(\"h2\", null, _toDisplayString(_ctx.name), 1),\n          _hoisted_2\n        ]),\n        _createElementVNode(\"div\", { id: _ctx.id }, null, 8, _hoisted_3)\n      ], 64))\n    : _createCommentVNode(\"\", true)\n}","export const PlaySymbol = '\\u200A';\r\n\r\nexport const StopSymbol = '';\r\n\r\nexport interface SamplerPlayButton {\r\n\r\n\t/**\r\n\t * Play the sampler and change the button to a stop button.\r\n\t */\r\n\tplay: () => void;\r\n\r\n\t/**\r\n\t * Stop the sampler.\r\n\t */\r\n\tstop: () => void;\r\n\r\n\t/**\r\n\t * To be invoked by the sampler when it is stopped. The stop\r\n\t * event will be fired when 1) all the notes are played,\r\n\t * 2) the stop button is hit, or 3) other play button is hit.\r\n\t * The stop button should be changed to a play button here.\r\n\t */\r\n\tonSamplerStopped: () => void;\r\n\r\n}","import { onStop, SamplerFacade } from './sampler-facade';\r\nimport { PlaySymbol, SamplerPlayButton, StopSymbol } from './sampler-play-button';\r\n\r\nexport type onPlay = (sampler: SamplerFacade, onStop: onStop) => void;\r\n\r\nexport class DomBasedSamplerPlayButton implements SamplerPlayButton {\r\n\r\n\tpublic constructor(private _element: HTMLElement, private _sampler: SamplerFacade, private _onPlay: onPlay) {\r\n\t\t_element.textContent = PlaySymbol;\r\n\t\t_element.style.cursor = 'pointer';\r\n\t\t_element.addEventListener('click', () => {\r\n\t\t\tif (_element.textContent === PlaySymbol) {\r\n\t\t\t\tthis.play();\r\n\t\t\t} else {\r\n\t\t\t\tthis.stop();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic play(): void {\r\n\t\tthis._element.textContent = StopSymbol;\r\n\t\tthis._onPlay(this._sampler, this.onSamplerStopped.bind(this));\r\n\t}\r\n\r\n\tpublic stop(): void {\r\n\t\tthis._sampler.stop();\r\n\t}\r\n\r\n\tpublic onSamplerStopped(): void {\r\n\t\tthis._element.textContent = PlaySymbol;\r\n\t}\r\n\t\r\n}","export function toTitleCase(value: string): string {\r\n\treturn value\r\n\t\t\t.split(' ')\r\n\t\t\t.map(word => word[0].toUpperCase() + word.substr(1).toLowerCase())\r\n\t\t\t.join(' ');\r\n}\r\n\r\nexport function rotateLeft(text: string, noOfChars = 0): string {\r\n\tlet cutoff = noOfChars % text.length;\r\n\treturn text.slice(cutoff) + text.slice(0, cutoff); \r\n}\r\n\r\nexport function rotateRight(text: string, noOfChars = 0): string {\r\n\tconst cutoff = noOfChars % text.length;\r\n\treturn rotateLeft(text, text.length - cutoff);\r\n}","import { ScaleTonicRange, ScaleType as ScaleTypeData } from '@/data/scale-type';\r\nimport { toTitleCase } from '@/functional/string';\r\nimport { ScaleType } from '@tonaljs/scale-type';\r\nimport { ScaleType as ScaleTypeUtil } from '@tonaljs/tonal';\r\n\r\n// Object.assign(ScaleTypeUtil.get('whole tone').intervals, ['1P', '2M', '3M', '4A', '5A', '6A']);\r\nObject.assign(ScaleTypeUtil.get('augmented').intervals, ['1P', '3m', '3M', '5P', '5A', '7M']);\r\nObject.assign(ScaleTypeUtil.get('altered').intervals, ['1P', '2m', '3m', '4d', '5d', '6m', '7m']);\r\npatch(ScaleTypeUtil.get('whole tone pentatonic'), ['1P', '2M', '3M', '4A', '5A'], '101010101000');\r\n\r\nfunction patch(scale: ScaleType, intervals: string[], chroma: string): void {\r\n\tObject.assign(scale.intervals, intervals);\r\n\tObject.defineProperty(scale, 'chroma', { value: chroma, writable: false });\r\n\tObject.defineProperty(scale, 'normalized', { value: chroma, writable: false });\r\n}\r\n\r\nconst Replacement = { ' ': '-', '\\'': '', '#': '' } as { [key: string]: string };\r\n\r\nexport function toKey(ref: string): string {\r\n\treturn ref.replace(/['# ]/g, char => Replacement[char]).toLowerCase();\r\n}\r\n\r\nexport function create(): ScaleTypeData[] {\r\n\tlet scaleTypes = new Array<ScaleTypeData>();\r\n\tlet tonicRanges = createTonicRanges();\r\n\tScaleTypeUtil\r\n\t\t.all()\r\n\t\t.forEach(scale => {\r\n\t\t\tlet ref = scale.name;\r\n\t\t\tlet names = [ scale.name, ...scale.aliases];\t// names: ['dominant diminished', 'half-whole diminished', 'messiaen's mode #2']\r\n\t\t\tlet keys = names.map(toKey);\t\t\t\t\t// keys:  ['dominant-diminished', 'half-whole-diminished', 'messiaens-mode-2']\r\n\t\t\tkeys.forEach((key, i) => {\r\n\t\t\t\tlet display = toTitleCase(names[i]);\r\n\t\t\t\tlet aliasKeys = keys.filter(k => k !== key);\r\n\t\t\t\tlet supertype = scale.intervals.length;\r\n\t\t\t\tlet tonicRange = tonicRanges[key];\r\n\t\t\t\tscaleTypes.push({ key, ref, display, aliasKeys, supertype, tonicRange });\r\n\t\t\t});\r\n\t\t});\r\n\treturn scaleTypes;\r\n}\r\n\r\nfunction createTonicRanges(): Record<string, ScaleTonicRange> {\r\n\treturn {\r\n\t\t'aeolian-b5':\t\t\t\t\t\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'aeolian':\t\t\t\t\t\t\t\t\t{ upper: 5, lower: 17 },\r\n\t\t'altered-dorian':\t\t\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'altered':\t\t\t\t\t\t\t\t\t{ upper: 8, lower: 19 },\r\n\t\t'arabian':\t\t\t\t\t\t\t\t\t{ upper: 7, lower: 18 },\r\n\t\t'augmented-heptatonic':\t\t\t\t\t\t{ upper: 2, lower: 13 },\r\n\t\t'augmented':\t\t\t\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'balinese':\t\t\t\t\t\t\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'bebop-locrian':\t\t\t\t\t\t\t{ upper: 7, lower: 19 },\r\n\t\t'bebop-major':\t\t\t\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'bebop-minor':\t\t\t\t\t\t\t\t{ upper: 4, lower: 16 },\r\n\t\t'bebop':\t\t\t\t\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'blues':\t\t\t\t\t\t\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'chinese':\t\t\t\t\t\t\t\t\t{ upper: 1, lower: 13 },\r\n\t\t'chromatic':\t\t\t\t\t\t\t\t{ upper: 0, lower: 20 },\r\n\t\t'composite-blues':\t\t\t\t\t\t\t{ upper: 5, lower: 16 },\r\n\t\t'diminished-whole-tone':\t\t\t\t\t{ upper: 8, lower: 19 },\r\n\t\t'diminished':\t\t\t\t\t\t\t\t{ upper: 5, lower: 16 },\r\n\t\t'dominant-diminished':\t\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'dominant':\t\t\t\t\t\t\t\t\t{ upper: 3, lower: 15 },\r\n\t\t'dorian-4':\t\t\t\t\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'dorian-b2':\t\t\t\t\t\t\t\t{ upper: 5, lower: 16 },\r\n\t\t'dorian':\t\t\t\t\t\t\t\t\t{ upper: 4, lower: 16 },\r\n\t\t'double-harmonic-lydian':\t\t\t\t\t{ upper: 2, lower: 13 },\r\n\t\t'double-harmonic-major':\t\t\t\t\t{ upper: 3, lower: 14 },\r\n\t\t'egyptian':\t\t\t\t\t\t\t\t\t{ upper: 4, lower: 16 },\r\n\t\t'enigmatic':\t\t\t\t\t\t\t\t{ upper: 7, lower: 18 },\r\n\t\t'flamenco':\t\t\t\t\t\t\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'flat-six-pentatonic':\t\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'flat-three-pentatonic':\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'gypsy':\t\t\t\t\t\t\t\t\t{ upper: 3, lower: 14 },\r\n\t\t'half-diminished':\t\t\t\t\t\t\t{ upper: 6, lower: 18 },\r\n\t\t'half-whole-diminished':\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'harmonic-major':\t\t\t\t\t\t\t{ upper: 3, lower: 14 },\r\n\t\t'harmonic-minor':\t\t\t\t\t\t\t{ upper: 5, lower: 16 },\r\n\t\t'hindu':\t\t\t\t\t\t\t\t\t{ upper: 4, lower: 16 },\r\n\t\t'hirajoshi':\t\t\t\t\t\t\t\t{ upper: 5, lower: 17 },\r\n\t\t'hungarian-major':\t\t\t\t\t\t\t{ upper: 1, lower: 13 },\r\n\t\t'hungarian-minor':\t\t\t\t\t\t\t{ upper: 3, lower: 15 },\r\n\t\t'ichikosucho':\t\t\t\t\t\t\t\t{ upper: 3, lower: 14 },\r\n\t\t'in-sen':\t\t\t\t\t\t\t\t\t{ upper: 6, lower: 18 },\r\n\t\t'indian':\t\t\t\t\t\t\t\t\t{ upper: 3, lower: 15 },\r\n\t\t'ionian-5':\t\t\t\t\t\t\t\t\t{ upper: 2, lower: 13 },\r\n\t\t'ionian-augmented':\t\t\t\t\t\t\t{ upper: 2, lower: 13 },\r\n\t\t'ionian-pentatonic':\t\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'ionian':\t\t\t\t\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'iwato':\t\t\t\t\t\t\t\t\t{ upper: 7, lower: 19 },\r\n\t\t'kafi-raga':\t\t\t\t\t\t\t\t{ upper: 3, lower: 15 },\r\n\t\t'kumoi':\t\t\t\t\t\t\t\t\t{ upper: 4, lower: 16 },\r\n\t\t'kumoijoshi':\t\t\t\t\t\t\t\t{ upper: 6, lower: 18 },\r\n\t\t'leading-whole-tone':\t\t\t\t\t\t{ upper: 1, lower: 13 },\r\n\t\t'locrian-2':\t\t\t\t\t\t\t\t{ upper: 7, lower: 18 },\r\n\t\t'locrian-6':\t\t\t\t\t\t\t\t{ upper: 7, lower: 18 },\r\n\t\t'locrian-major':\t\t\t\t\t\t\t{ upper: 7, lower: 18 },\r\n\t\t'locrian-natural-6':\t\t\t\t\t\t{ upper: 7, lower: 18 },\r\n\t\t'locrian-pentatonic':\t\t\t\t\t\t{ upper: 7, lower: 19 },\r\n\t\t'locrian-sharp-6':\t\t\t\t\t\t\t{ upper: 7, lower: 18 },\r\n\t\t'locrian':\t\t\t\t\t\t\t\t\t{ upper: 7, lower: 19 },\r\n\t\t'lydian-5p-pentatonic':\t\t\t\t\t\t{ upper: 1, lower: 12 },\r\n\t\t'lydian-9':\t\t\t\t\t\t\t\t\t{ upper: 1, lower: 12 },\r\n\t\t'lydian-augmented':\t\t\t\t\t\t\t{ upper: 1, lower: 12 },\r\n\t\t'lydian-b7':\t\t\t\t\t\t\t\t{ upper: 2, lower: 13 },\r\n\t\t'lydian-diminished':\t\t\t\t\t\t{ upper: 2, lower: 13 },\r\n\t\t'lydian-dominant-pentatonic':\t\t\t\t{ upper: 2, lower: 13 },\r\n\t\t'lydian-dominant':\t\t\t\t\t\t\t{ upper: 2, lower: 13 },\r\n\t\t'lydian-minor':\t\t\t\t\t\t\t\t{ upper: 2, lower: 13 },\r\n\t\t'lydian-pentatonic':\t\t\t\t\t\t{ upper: 1, lower: 13 },\r\n\t\t'lydian':\t\t\t\t\t\t\t\t\t{ upper: 1, lower: 13 },\r\n\t\t'major-5':\t\t\t\t\t\t\t\t\t{ upper: 2, lower: 13 },\r\n\t\t'major-augmented':\t\t\t\t\t\t\t{ upper: 2, lower: 13 },\r\n\t\t'major-blues':\t\t\t\t\t\t\t\t{ upper: 3, lower: 14 },\r\n\t\t'major-pentatonic':\t\t\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'major':\t\t\t\t\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'malkos-raga':\t\t\t\t\t\t\t\t{ upper: 6, lower: 18 },\r\n\t\t'melodic-minor-fifth-mode':\t\t\t\t\t{ upper: 5, lower: 16 },\r\n\t\t'melodic-minor-second-mode':\t\t\t\t{ upper: 5, lower: 17 },\r\n\t\t'melodic-minor':\t\t\t\t\t\t\t{ upper: 5, lower: 16 },\r\n\t\t'messiaens-mode-1':\t\t\t\t\t\t\t{ upper: 1, lower: 14 },\r\n\t\t'messiaens-mode-2':\t\t\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'messiaens-mode-3':\t\t\t\t\t\t\t{ upper: 3, lower: 15 },\r\n\t\t'messiaens-mode-4':\t\t\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'messiaens-mode-5':\t\t\t\t\t\t\t{ upper: 2, lower: 17 },\r\n\t\t'messiaens-mode-6':\t\t\t\t\t\t\t{ upper: 1, lower: 12 },\r\n\t\t'messiaens-mode-7':\t\t\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'minor-7m-pentatonic':\t\t\t\t\t\t{ upper: 5, lower: 16 },\r\n\t\t'minor-bebop':\t\t\t\t\t\t\t\t{ upper: 5, lower: 16 },\r\n\t\t'minor-blues':\t\t\t\t\t\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'minor-hexatonic':\t\t\t\t\t\t\t{ upper: 5, lower: 16 },\r\n\t\t'minor-pentatonic':\t\t\t\t\t\t\t{ upper: 5, lower: 17 },\r\n\t\t'minor-seven-flat-five-pentatonic':\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'minor-six-diminished':\t\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'minor-six-pentatonic':\t\t\t\t\t\t{ upper: 5, lower: 17 },\r\n\t\t'minor':\t\t\t\t\t\t\t\t\t{ upper: 5, lower: 17 },\r\n\t\t'mixolydian-b6':\t\t\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'mixolydian-pentatonic':\t\t\t\t\t{ upper: 3, lower: 15 },\r\n\t\t'mixolydian':\t\t\t\t\t\t\t\t{ upper: 3, lower: 15 },\r\n\t\t'mystery-1':\t\t\t\t\t\t\t\t{ upper: 7, lower: 18 },\r\n\t\t'neopolitan-major-pentatonic':\t\t\t\t{ upper: 4, lower: 18 },\r\n\t\t'neopolitan-major':\t\t\t\t\t\t\t{ upper: 5, lower: 16 },\r\n\t\t'oriental':\t\t\t\t\t\t\t\t\t{ upper: 5, lower: 17 },\r\n\t\t'overtone':\t\t\t\t\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'pelog':\t\t\t\t\t\t\t\t\t{ upper: 6, lower: 18 },\r\n\t\t'pentatonic':\t\t\t\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'persian':\t\t\t\t\t\t\t\t\t{ upper: 6, lower: 18 },\r\n\t\t'phrygian-6':\t\t\t\t\t\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'phrygian-dominant':\t\t\t\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'phrygian-major':\t\t\t\t\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'phrygian':\t\t\t\t\t\t\t\t\t{ upper: 6, lower: 18 },\r\n\t\t'piongio':\t\t\t\t\t\t\t\t\t{ upper: 2, lower: 17 },\r\n\t\t'pomeroy':\t\t\t\t\t\t\t\t\t{ upper: 8, lower: 19 },\r\n\t\t'prometheus-neopolitan':\t\t\t\t\t{ upper: 2, lower: 15 },\r\n\t\t'prometheus':\t\t\t\t\t\t\t\t{ upper: 2, lower: 14 },\r\n\t\t'purvi-raga':\t\t\t\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'ritusen':\t\t\t\t\t\t\t\t\t{ upper: 3, lower: 15 },\r\n\t\t'romanian-minor':\t\t\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'scriabin':\t\t\t\t\t\t\t\t\t{ upper: 3, lower: 14 },\r\n\t\t'six-tone-symmetric':\t\t\t\t\t\t{ upper: 2, lower: 15 },\r\n\t\t'spanish-heptatonic':\t\t\t\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'spanish':\t\t\t\t\t\t\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'super-locrian-pentatonic':\t\t\t\t\t{ upper: 8, lower: 19 },\r\n\t\t'super-locrian':\t\t\t\t\t\t\t{ upper: 8, lower: 19 },\r\n\t\t'superlocrian-bb7':\t\t\t\t\t\t\t{ upper: 8, lower: 19 },\r\n\t\t'superlocrian-diminished':\t\t\t\t\t{ upper: 8, lower: 19 },\r\n\t\t'todi-raga':\t\t\t\t\t\t\t\t{ upper: 6, lower: 17 },\r\n\t\t'ukrainian-dorian':\t\t\t\t\t\t\t{ upper: 4, lower: 15 },\r\n\t\t'ultralocrian':\t\t\t\t\t\t\t\t{ upper: 8, lower: 19 },\r\n\t\t'vietnamese-1':\t\t\t\t\t\t\t\t{ upper: 4, lower: 19 },\r\n\t\t'vietnamese-2':\t\t\t\t\t\t\t\t{ upper: 5, lower: 17 },\r\n\t\t'whole-half-diminished':\t\t\t\t\t{ upper: 5, lower: 16 },\r\n\t\t'whole-tone-pentatonic':\t\t\t\t\t{ upper: 1, lower: 12 },\r\n\t\t'whole-tone':\t\t\t\t\t\t\t\t{ upper: 2, lower: 14 }\r\n\t};\r\n}","import { ScaleType } from '@/data/scale-type';\r\nimport { Dexie } from 'dexie';\r\nimport { OnlyInstantiableByContainer, Singleton } from 'typescript-ioc';\r\nimport { create } from '../data/data';\r\n\r\n@Singleton\r\n@OnlyInstantiableByContainer\r\nexport class SMTDB extends Dexie {\r\n\r\n\tpublic scaleTypes: Dexie.Table<ScaleType, string>;\r\n\r\n\tpublic constructor() {\r\n\t\tsuper('some-music-theory');\r\n\t\tthis.version(1).stores({\r\n\t\t\tscaleTypes: '&key, supertype'\r\n\t\t});\r\n\t\tthis.scaleTypes = this.table('scaleTypes');\r\n\t\tthis.on('populate', () => Reflect.apply(this.populate, this, []));\r\n\t\tthis.open();\r\n\t}\r\n\r\n\tprivate populate(): void {\r\n\t\tlet data = create();\r\n\t\tthis.scaleTypes.bulkAdd(data);\r\n\t}\r\n\r\n}","import { ScaleType } from '@/data/scale-type';\r\nimport { Inject, Singleton } from 'typescript-ioc';\r\nimport { Optional } from 'typescript-optional';\r\nimport { SMTDB } from './database';\r\n\r\nexport abstract class ScaleDao {\r\n\r\n\tpublic abstract get(key: string): Promise<Optional<ScaleType>>;\r\n\r\n\tpublic abstract getBySupertype(supertype: number): Promise<ScaleType[]>;\r\n\r\n\tpublic abstract supertypes(): Promise<number[]>;\r\n\r\n\tpublic abstract displayOf(keys: string[]): Promise<string[]>;\r\n\r\n}\r\n\r\n@Singleton\r\nexport class DexieScaleDao extends ScaleDao {\r\n\r\n\tpublic constructor(@Inject private _db: SMTDB) {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic async get(key: string): Promise<Optional<ScaleType>> {\r\n\t\tlet type = await this._db.scaleTypes.where('key').equalsIgnoreCase(key).first();\r\n\t\treturn Optional.ofNullable(type);\r\n\t}\r\n\r\n\tpublic async getBySupertype(supertype: number): Promise<ScaleType[]> {\r\n\t\treturn await this._db.scaleTypes.where('supertype').equals(supertype).toArray();\r\n\t}\r\n\r\n\tpublic async supertypes(): Promise<number[]> {\r\n\t\tconst array = await this._db.scaleTypes.orderBy('supertype').uniqueKeys();\r\n\t\treturn array.map(part => Number(part));\r\n\t}\r\n\r\n\tpublic async displayOf(keys: string[]): Promise<string[]> {\r\n\t\tlet scales = await Promise.all(keys.map(key => this.get(key)));\r\n\t\treturn scales\r\n\t\t\t\t.filter(scale => scale.isPresent())\r\n\t\t\t\t.map(scale => scale.get().display);\r\n\t}\r\n\r\n}","import { ScaleTonic } from '@/models/scale-tonic';\r\nimport { Scale } from '@tonaljs/tonal';\r\n\r\nexport interface NoteRange {\r\n\tref: string;\r\n\ttonic: string;\r\n\tfromPosition: number;\r\n\tfromPitch: number;\r\n\ttoPosition: number;\r\n\ttoPitch: number;\r\n}\r\n\r\n/**\r\n * Example:\r\n * ```\r\n * getNotesWithin({\r\n *    ref: 'major',\r\n *    tonic: 'C',\r\n *    fromPosition: 0,\r\n *    fromPitch: 4,\r\n *    toPosition: 2,\r\n *    toPitch: 5\r\n * })\r\n * // ['C4', 'D4', 'E4', 'F4', 'G4', 'A4', 'B4', 'C5', 'D5', 'E5']\r\n * ```\r\n */\r\nexport function getNotesWithin(range: NoteRange): string[] {\r\n\t\tlet scale = `${range.tonic} ${range.ref}`;\r\n\t\tlet notes = Scale.get(scale).notes;\r\n\t\tlet notesPerOctave = notes.length;\r\n\t\tif (range.fromPosition < notesPerOctave && range.toPosition < notesPerOctave) {\r\n\t\t\tlet from = notes[range.fromPosition] + range.fromPitch;\r\n\t\t\tlet to = notes[range.toPosition] + range.toPitch;\r\n\t\t\treturn Scale\r\n\t\t\t\t\t.rangeOf(scale)(from, to)\r\n\t\t\t\t\t.map(note => note ? note : '');\r\n\t\t}\r\n\treturn [];\r\n}\r\n\r\n/**\r\n * ```\r\n * allTonicsNotes('major');\r\n * // [\r\n * //   ['Fb', 'Gb', 'Ab', 'Bbb', 'Cb', 'Db', 'Eb'],\r\n * //   ...\r\n * //   ['F', 'G', 'A', 'Bb', 'C', 'D', 'E'],\r\n * //   ['C', 'D', 'E', 'F', 'G', 'A', 'B'], \r\n * //   ['G', 'A', 'B', 'C', 'D', 'E', 'F#'],\r\n * //   ...\r\n * //   ['B#', 'C##', 'D##', 'E#', 'F##', 'G##', 'A##']\r\n * // ]\r\n * ```\r\n */\r\nexport function allTonicsNotes(ref: String): string[][] {\r\n\treturn ScaleTonic.Entries.map(entry => Scale.get(`${entry[1]} ${ref}`).notes);\r\n}\r\n\r\n/**\r\n * Change the given scale notes to pitch notations and add the tonic \r\n * note to the end.\r\n * \r\n * Example:\r\n * ```\r\n * asDemonstration(['C', 'D', 'E', 'F', 'G', 'A', 'B'])\r\n * // ['C4', 'D4', 'E4', 'F4', 'G4', 'A4', 'B4', 'C5']\r\n * asDemonstration(['A', 'B', 'C', 'D', 'E', 'F', 'G'])\r\n * // ['A3', 'B3', 'C4', 'D4', 'E4', 'F4', 'G4', 'A4']\r\n * ```\r\n */\r\nexport function asDemonstration(scaleNotes: string[]): string[] {\r\n\tlet notes = [...scaleNotes, scaleNotes[0]];\r\n\tlet startPitch = notes[0].charCodeAt(0) < 67 ? 3 : 4; // A, A#, B = 3, Others = 4\r\n\tlet endPitch = startPitch + 1;\r\n\tlet index = notes.findIndex((note, i) => note.charCodeAt(0) < 67 && notes[i + 1].charCodeAt(0) >= 67);\r\n\tif (index === -1) {\r\n\t\tindex = notes.length - 2;\r\n\t}\r\n\treturn notes.map((note, i) => (i <= index) ? `${note}${startPitch}` : `${note}${endPitch}`);\r\n}","import { getNotesWithin } from '@/functional/scale';\r\nimport { Mode, Scale } from '@tonaljs/tonal';\r\nimport { getTonicRangeUpperBound } from './major-minor-scale';\r\nimport { ScaleTonic } from './scale-tonic';\r\n\r\n/**\r\n * Starting pitch if tonic is A, B, C, or D: 3.\r\n * Otherwise, 4.\r\n */\r\nexport function getStartingPitch(tonic: string): number {\r\n\treturn ['A', 'B', 'C', 'D'].includes(tonic.charAt(0)) ? 3 : 4;\r\n}\r\n\r\n/**\r\n * Generate notes to be used by a sampler to demonstrate what a triad sounds like.\r\n * \r\n * ```\r\n * let notes = getTriadNotes('major', 'C') // ['A3', 'B3', 'C4', 'D4', 'E4', 'F4', 'G4', 'A4', 'B4', 'C5', 'D5', 'E5', 'F5', 'G5', 'A5']\r\n * let aMinor = [notes[0], notes[2], notes[4]]; // ['A3', 'C4', 'E4']\r\n * sampler.play([...notes, notes]);\r\n * ```\r\n */\r\nexport function getTriadNotes(ref: string, tonic: string): string[] {\r\n\tlet fromPitch = getStartingPitch(tonic);\r\n\tlet toPitch = fromPitch + 2;\r\n\treturn getNotesWithin({ ref, tonic, fromPosition: 5, fromPitch, toPosition: 5, toPitch });\r\n}\r\n\r\n/**\r\n * Generate a string (Vexflow's input) containing all the triads to be displayed \r\n * in the sheet music. Because key signature is used, the notes in the string\r\n * will not have accidentals except for Harmonic and Melodic Minor.\r\n * \r\n * ```\r\n * getTriads('melodic minor', 'D', 'melodic')\r\n * // '(Bn3 D4 F4)/w, (C#4 E4 G4), (D4 F4 A4), (E4 G4 Bn4), (F4 A4 C#5), (G4 B4 D5), (A4 C5 E5), (B4 D5 F5), (C5 E5 G5), (D5 F5 A5), (E5 G5 Bn5)'\r\n * ```\r\n */\r\nexport function getTriads(ref: string, tonic: string, subtype: string): string {\r\n\t/*\r\n\t * Generate 15 notes in a scale to form 11 triads. Take C Major Ionian as an example,\r\n\t * the following notes will be generated.\r\n\t * \r\n\t * ['A3', 'B3', 'C4', 'D4', 'E4', 'F4', 'G4', 'A4', 'B4', 'C5', 'D5', 'E5', 'F5', 'G5', 'A5']\r\n\t * \r\n\t * Then they will be used to form the following triads.\r\n\t * \r\n\t * Am:\t\t['A3', 'C4', 'E4']\r\n\t * Bdim:\t['B3', 'D4', 'F4']\r\n\t * C:\t\t['C4', 'E4', 'G4']\r\n\t * Dm:\t\t['D4', 'F4', 'A4']\r\n\t * Em:\t\t['E4', 'G4', 'B4']\r\n\t * F:\t\t['F4', 'A4', 'C5']\r\n\t * G:\t\t['G4', 'B4', 'D5']\r\n\t * Am:\t\t['A4', 'C5', 'E5']\r\n\t * Bdim:\t['B4', 'D5', 'F5']\r\n\t * C:\t\t['C5', 'E5', 'G5']\r\n\t * Dm:\t\t['D5', 'F5', 'A5']\r\n\t */\r\n\tlet refNoAccidentals = ['harmonic minor', 'melodic minor'].includes(ref) ? 'minor' : ref;\r\n\tlet mid = getTonicRangeUpperBound(subtype) + 7;\r\n\tlet tonicNoAccidentals = ScaleTonic.tonicOfIndex(mid);\r\n\tlet [fromPosition] = [5, 6, 0, 1, 2, 3, 4].slice(tonic.charCodeAt(0) - tonicNoAccidentals.charCodeAt(0));\r\n\tlet toPosition = fromPosition;\r\n\tlet fromPitch = getStartingPitch(tonic);\r\n\tlet toPitch = fromPitch + 2;\r\n\tlet notes = getNotesWithin({ ref: refNoAccidentals, tonic: tonicNoAccidentals, fromPosition, fromPitch, toPosition, toPitch });\r\n\tlet triads = [] as [root: string, third: string, fifth: string][];\r\n\tfor (let i = 0; i < notes.length - 4; i++) {\r\n\t\ttriads[i] = [notes[i], notes[i + 2], notes[i + 4]];\r\n\t}\r\n\t/*\r\n\t * For example:\r\n\t * D Melodic Minor Scale (Index = 10)\r\n\t * \r\n\t * From:\t\t\t\t\tTo:\r\n\t * ['B3' 'D4' 'F4']\t\t\t['Bn3' 'D4' 'F4']\r\n\t * ['C4' 'E4' 'G4']\t\t\t['C#4' 'E4' 'G4']\r\n\t * ['D4' 'F4' 'A4']\t\t\t['D4' 'F4' 'A4']\r\n\t * ['E4' 'G4' 'B4']\t\t\t['E4' 'G4' 'Bn4']\r\n\t * ['F4' 'A4' 'C5']\t\t\t['F4' 'A4' 'C#5']\r\n\t * ['G4' 'B4' 'D5']\t\t\t['G4' 'B4' 'D5']\r\n\t * ['A4' 'C5' 'E5']\t\t\t['A4' 'C5' 'E5']\r\n\t * ['B4' 'D5' 'F5']\t\t\t['B4' 'D5' 'F5']\r\n\t * ['C5' 'E5' 'G5']\t\t\t['C5' 'E5' 'G5']\r\n\t * ['D5' 'F5' 'A5']\t\t\t['D5' 'F5' 'A5']\r\n\t * ['E5' 'G5' 'B5']\t\t\t['E5' 'G5' 'Bn5']\r\n\t * \r\n\t * And then to:\r\n\t * (Bn3 D4 F4)/w, (C#4 E4 G4), (D4 F4 A4), (E4 G4 Bn4), (F4 A4 C#5), (G4 B4 D5), (A4 C5 E5), (B4 D5 F5), (C5 E5 G5), (D5 F5 A5), (E5 G5 Bn5)\r\n\t * \r\n\t */\r\n\tlet index = ScaleTonic.indexOfTonic(tonic);\r\n\tswitch (ref) {\r\n\t\tcase 'melodic minor':\t\taddAccidental(triads, [[0, 0], [3, 2], [10, 2]], (index < 11) ? 'n' : (index < 18) ? '#' : '##'); // break omitted intentionally\r\n\t\tcase 'harmonic minor':\t\taddAccidental(triads, [[1, 0], [4, 2]], (index < 9) ? 'n' : (index < 16) ? '#' : '##');\r\n\t}\r\n\tlet triadStrings = triads.map(triad => triad.join(' '));\r\n\treturn `(${triadStrings[0]})/w, ${triadStrings.slice(1).map(triad => `(${triad})`).join(', ')}`;\r\n}\r\n\r\nfunction addAccidental(triads: string[][], indices: [number, number][], accidental: string): void {\r\n\tindices.forEach(index => {\r\n\t\tlet note = triads[index[0]][index[1]];\r\n\t\ttriads[index[0]][index[1]] = note.charAt(0) + accidental + note.charAt(1);\r\n\t});\r\n}\r\n\r\nconst TriadSuffixes: Record<string, string[]> = {\r\n\t'harmonic minor': ['m', 'dim', 'aug', 'm', '', '', 'dim'],\r\n\t'melodic minor': ['m', 'm', 'aug', '', '', 'dim', 'dim']\r\n}\r\n\r\n/**\r\n * ```\r\n * getTriadsName('major', 'C')\r\n * // ['Am', 'Bdim', 'C', 'Dm', 'Em', 'F', 'G', 'Am', 'Bdim', 'C', 'Dm']\r\n * ```\r\n */\r\nexport function getTriadsName(ref: string, tonic: string): string[] {\r\n\tlet names: string[] = [];\r\n\tswitch (ref) {\r\n\t\tcase 'harmonic minor':\r\n\t\tcase 'melodic minor':\r\n\t\t\tlet suffixes = TriadSuffixes[ref];\r\n\t\t\tlet notes = Scale.get(`${tonic} ${ref}`).notes;\r\n\t\t\tnotes[5] = notes[5].replace('##', '');\r\n\t\t\tnotes[6] = notes[6].replace('##', '');\r\n\t\t\tnames = notes.map((note, index) => note + suffixes[index]);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tnames = Mode.triads(ref, tonic);\r\n\t\t\tbreak;\r\n\t}\r\n\treturn [...names.slice(5), ...names, ...names.slice(0, 2)];\r\n}\r\n\r\nexport function getMajorKeySignature(subtype: string, tonic: string): string {\r\n\tif (subtype === 'ionian') {\r\n\t\treturn tonic;\r\n\t}\r\n\tlet index = ScaleTonic.indexOfTonic(tonic);\r\n\tlet upper = getTonicRangeUpperBound(subtype);\r\n\tlet ionianUpper = getTonicRangeUpperBound('ionian');\r\n\treturn ScaleTonic.tonicOfIndex(index - upper + ionianUpper);\r\n}","\r\nimport { DomBasedSamplerPlayButton } from '@/audio/dom-based-sampler-play-button';\r\nimport { onStop, SamplerFacade } from '@/audio/sampler-facade';\r\nimport { PlaySymbol } from '@/audio/sampler-play-button';\r\nimport { ScaleDao } from '@/data-access/scale-dao';\r\nimport { getScaleName, isValid, MajorMinorScale, subtypeToRef } from '@/models/major-minor-scale';\r\nimport { getMajorKeySignature, getTriadNotes, getTriads, getTriadsName } from '@/models/major-minor-scale-triads-score';\r\nimport { ScaleTonic } from '@/models/scale-tonic';\r\nimport { Inject } from 'typescript-ioc';\r\nimport { Optional } from 'typescript-optional';\r\nimport Vex from 'vexflow';\r\nimport { Vue } from 'vue-class-component';\r\nimport { Prop, Watch } from 'vue-property-decorator';\r\n\r\nexport default class MajorMinorScaleTriadsScore extends Vue {\r\n\r\n\t@Prop({required: true})\r\n\tscale!: MajorMinorScale;\r\n\r\n\t@Inject\r\n\tscaleDao!: ScaleDao;\r\n\r\n\t@Inject\r\n\tsampler!: SamplerFacade;\r\n\r\n\tid = 'major-minor-scale-triads-score';\r\n\r\n\tname = '';\r\n\r\n\ttriadNotes: string[] = [];\r\n\r\n\t@Watch('scale', {immediate: true})\r\n\tonScaleChanged(scale: MajorMinorScale): void {\r\n\t\tif (isValid(this.scale)) {\r\n\t\t\tthis.clear();\r\n\t\t\tthis.name = getScaleName(scale);\r\n\t\t\tthis.triadNotes = getTriadNotes(subtypeToRef(scale.subtype), ScaleTonic.All[scale.tonic]);\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.draw(scale);\r\n\t\t\t\tthis.enableHighlight();\r\n\t\t\t\tthis.initPlayButtons();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tdraw(scale: MajorMinorScale): void {\r\n\t\tlet ref = subtypeToRef(scale.subtype);\r\n\t\tlet tonic = ScaleTonic.All[scale.tonic];\r\n\t\tlet triads = getTriads(ref, tonic, scale.subtype);\r\n\t\tlet triadNames = getTriadsName(ref, tonic);\r\n\t\tlet keySignature = getMajorKeySignature(scale.subtype, tonic);\r\n\t\tlet vf = new Vex.Flow.Factory({renderer: {elementId: this.id, width: 765}});\r\n\t\tlet score = vf.EasyScore();\r\n\t\tlet system = vf.System({width: 750});\r\n\t\tlet chordTextPosition = ['A', 'B', 'C', 'D'].includes(tonic.charAt(0)) ? 13 : 11;\r\n\t\tlet chordTextNotes = triadNames.map(triad => new Vex.Flow.TextNote({text: triad, duration: 'w'})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.setJustification(Vex.Flow.TextNote.Justification.CENTER)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.setLine(chordTextPosition));\r\n\t\tlet playButtons = Array(11).fill(null).map(x => new Vex.Flow.TextNote({text: PlaySymbol, duration: 'w'})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.setJustification(Vex.Flow.TextNote.Justification.CENTER)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.setLine(chordTextPosition + 4));\r\n\t\tsystem\r\n\t\t\t.addStave({voices: [\r\n\t\t\t\tscore.voice(score.notes(triads), {time: '11/1'}),\r\n\t\t\t\tscore.voice(chordTextNotes, {time: '11/1'}),\r\n\t\t\t\tscore.voice(playButtons, {time: '11/1'})\r\n\t\t\t]})\r\n\t\t\t.addClef('treble')\r\n\t\t\t.addKeySignature(keySignature);\r\n\t\tvf.draw();\r\n\t}\r\n\r\n\tenableHighlight(): void {\r\n\t\tdocument\r\n\t\t\t.querySelectorAll(`#${this.id} g.vf-notehead`)\r\n\t\t\t.forEach((element, x) => {\r\n\t\t\t\t/*\r\n\t\t\t\tx:\t\t\t2  5  8  11 14 17 20 23 26 29 32\r\n\t\t\t\t\t\t\t1  4  7  10 13 16 19 22 25 28 31\r\n\t\t\t\t\t\t\t0  3  6  9  12 15 18 21 24 27 30\r\n\r\n\t\t\t\tnoteIndex:\t4  5  6  0  1  2  3  4  5  6  0\r\n\t\t\t\t\t\t\t2  3  4  5  6  0  1  2  3  4  5\r\n\t\t\t\t\t\t\t0  1  2  3  4  5  6  0  1  2  3\r\n\t\t\t\t*/\r\n\t\t\t\tlet y = x % 3;\r\n\t\t\t\tlet noteIndex = ((x - y) / 3 + (y * 2)) % 7;\r\n\t\t\t\tlet clazz = `_${noteIndex}`\r\n\t\t\t\tlet selector = `#${this.id} g.vf-notehead.${clazz}`;\r\n\t\t\t\telement.classList.add(clazz);\r\n\t\t\t\telement.addEventListener('mouseover', () => document\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.querySelectorAll(selector)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.forEach(element => element.classList.add('active')));\r\n\t\t\t\telement.addEventListener('mouseout', () => document\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.querySelectorAll(selector)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.forEach(element => element.classList.remove('active')));\r\n\t\t\t});\r\n\t}\r\n\r\n\tinitPlayButtons(): void {\r\n\t\tArray\r\n\t\t\t.from(document.querySelectorAll('svg text'))\r\n\t\t\t.filter(text => text.textContent === PlaySymbol)\r\n\t\t\t.forEach((text, index) => {\r\n\t\t\t\tnew DomBasedSamplerPlayButton(\r\n\t\t\t\t\ttext as HTMLElement, \r\n\t\t\t\t\tthis.sampler, \r\n\t\t\t\t\t(sampler, onStop) => this.play(sampler, onStop, index)\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t}\r\n\r\n\tplay(sampler: SamplerFacade, onStop: onStop, chordIndex: number): void {\r\n\t\tlet triads = [this.triadNotes[chordIndex], this.triadNotes[chordIndex + 2], this.triadNotes[chordIndex + 4]];\r\n\t\tsampler.play([...triads, triads], { onStop, duration: 0.6 });\r\n\t}\r\n\r\n\tclear(): void {\r\n\t\tOptional\r\n\t\t\t.ofNullable(document.getElementById(this.id))\r\n\t\t\t.ifPresent(element => {\r\n\t\t\t\twhile (element.hasChildNodes()) {\r\n\t\t\t\t\telement.removeChild(element.lastChild!);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n}\r\n","import { render } from \"./major-minor-scale-triads-score.vue?vue&type=template&id=a5dd8e8a&ts=true\"\nimport script from \"./major-minor-scale-triads-score.vue?vue&type=script&lang=ts\"\nexport * from \"./major-minor-scale-triads-score.vue?vue&type=script&lang=ts\"\n\nimport \"./major-minor-scale-triads-score.vue?vue&type=style&index=0&id=a5dd8e8a&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\r\nimport MajorMinorScalePicker from '@/components/major-minor-scale-picker.vue';\r\nimport MajorMinorScaleTriadsScore from '@/components/major-minor-scale-triads-score.vue';\r\nimport { MajorMinorScale } from '@/models/major-minor-scale';\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Prop } from 'vue-property-decorator';\r\n\r\n@Options({\r\n\tcomponents: {\r\n\t\tMajorMinorScalePicker,\r\n\t\tMajorMinorScaleTriadsScore\r\n\t}\r\n})\r\nexport default class MajorMinorScaleTriadsSearch extends Vue {\r\n\r\n\t@Prop()\r\n\tscale!: MajorMinorScale;\r\n\r\n\tupdateRoute(scale: MajorMinorScale): void {\r\n\t\tthis.$router.push(`/scale-triads/${scale.type}/${scale.subtype}/${scale.tonic}`);\r\n\t}\r\n\r\n}\r\n","import { render } from \"./major-minor-scale-triads-search.vue?vue&type=template&id=2608d2b8&ts=true\"\nimport script from \"./major-minor-scale-triads-search.vue?vue&type=script&lang=ts\"\nexport * from \"./major-minor-scale-triads-search.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n\t<div>\r\n\t\t<h1>404</h1>\r\n\t\t<h2>Page Not Found</h2>\r\n\t\t<p>The page you are looking for does not exist.</p>\r\n\t</div>\r\n</template>\r\n\r\n<style scoped>\r\ndiv {\r\n\tleft: 50%;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translate(-50%, -53%);\r\n}\r\n\r\nh1 {\r\n\tfont-size: 200px;\r\n\tline-height: 200px;\r\n\tmargin: 0;\r\n}\r\n\r\nh2 {\r\n\tcolor: rgb(41, 72, 104);\r\n\tfont-size: 37px;\r\n\tfont-weight: 100;\r\n\tmargin: 0;\r\n\tfont-style: il;\r\n}\r\n\r\np {\r\n\tcolor: rgb(88, 105, 122);\r\n\tfont-size: 18px;\r\n\tfont-style: normal;\r\n\tmargin: 25px 0;\r\n}\r\n</style>","import { render } from \"./not-found.vue?vue&type=template&id=2fd0b0e2&scoped=true\"\nconst script = {}\n\nimport \"./not-found.vue?vue&type=style&index=0&id=2fd0b0e2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2fd0b0e2\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-d3509604\")\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Scale Finder\", -1)\nconst _hoisted_2 = {\n  key: 1,\n  class: \"please-select\"\n}\n_popScopeId()\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_chroma_picker = _resolveComponent(\"chroma-picker\")!\n  const _component_scale_finder = _resolveComponent(\"scale-finder\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _hoisted_1,\n    _createVNode(_component_chroma_picker, {\n      \"button-label\": 'Find',\n      onPicked: _ctx.showResults\n    }, null, 8, [\"onPicked\"]),\n    (_ctx.chroma.value)\n      ? (_openBlock(), _createBlock(_component_scale_finder, {\n          key: 0,\n          chroma: _ctx.chroma.value\n        }, null, 8, [\"chroma\"]))\n      : (_openBlock(), _createElementBlock(\"p\", _hoisted_2, \"Please select between 3 to 10 notes (inclusive) and then click Find.\"))\n  ]))\n}","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-134bf3e2\")\nconst _hoisted_1 = { class: \"chroma-picker\" }\nconst _hoisted_2 = { class: \"help\" }\nconst _hoisted_3 = { class: \"help-content\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"li\", null, \"Left click on a piano key to select/deselect a note.\", -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"li\", null, \"Right click on a piano key to play a note; release to stop.\", -1)\nconst _hoisted_6 = [\"onClick\", \"onMousedown\"]\nconst _hoisted_7 = { class: \"buttons\" }\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = [\"disabled\"]\n_popScopeId()\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"piano\",\n      onContextmenu: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"ul\", null, [\n            _hoisted_4,\n            _hoisted_5,\n            _createElementVNode(\"li\", null, \"Minimum notes to select: \" + _toDisplayString(_ctx.min), 1),\n            _createElementVNode(\"li\", null, \"Maximum notes to select: \" + _toDisplayString(_ctx.max), 1)\n          ])\n        ])\n      ]),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.pianoKeys, (key, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: index,\n          class: _normalizeClass([[ key.color, { active: _ctx.chroma.valueOf(index) } ], \"key\"]),\n          onClick: ($event: any) => (_ctx.chroma.toggle(index)),\n          onMousedown: _withModifiers(($event: any) => (_ctx.attack(key.value)), [\"right\"]),\n          onMouseup: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (_ctx.release()), [\"right\"])),\n          onContextmenu: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"]))\n        }, _toDisplayString(key.label), 43, _hoisted_6))\n      }), 128))\n    ], 32),\n    _createElementVNode(\"div\", _hoisted_7, [\n      _createElementVNode(\"button\", {\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.$emit('picked', _ctx.chroma.clone()))),\n        disabled: _ctx.pickDisabled\n      }, _toDisplayString(_ctx.buttonLabel), 9, _hoisted_8),\n      _createElementVNode(\"button\", {\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.chroma.reset())),\n        disabled: _ctx.resetDisabled\n      }, \"Reset\", 8, _hoisted_9)\n    ])\n  ]))\n}","export class Chroma {\r\n\r\n\tprivate _value = new Array<boolean>(12).fill(false);\r\n\r\n\tpublic get value(): boolean[] {\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\tpublic get noOfNotes(): number {\r\n\t\treturn this._value.filter(Boolean).length;\r\n\t}\r\n\r\n\tpublic valueOf(index: number): boolean {\r\n\t\treturn this._value[index];\r\n\t}\r\n\r\n\tpublic toggle(index: number): void {\r\n\t\tthis._value[index] = !this._value[index];\r\n\t}\r\n\r\n\tpublic reset(): void {\r\n\t\tthis._value.fill(false);\r\n\t}\r\n\r\n\tpublic clone(): Chroma {\r\n\t\tlet chroma = new Chroma();\r\n\t\tchroma._value = [...this._value];\r\n\t\treturn chroma;\r\n\t}\r\n\r\n}","\r\nimport { Chroma } from '@/models/chroma';\r\nimport { PianoKey } from '@/models/chroma-picker';\r\nimport * as Tone from 'tone';\r\nimport { Inject } from 'typescript-ioc';\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Prop } from 'vue-property-decorator';\r\n\r\n@Options({\r\n\temits: ['picked']\r\n})\r\nexport default class ChromaPicker extends Vue {\r\n\r\n\tpianoKeys: PianoKey[] = [\r\n\t\t{ label: 'C',\t\t\tvalue: 'C4',\tcolor: 'white' },\r\n\t\t{ label: 'C#\\n/\\nDb',\tvalue: 'C#4',\tcolor: 'black' },\r\n\t\t{ label: 'D',\t\t\tvalue: 'D4',\tcolor: 'white' },\r\n\t\t{ label: 'D#\\n/\\nEb',\tvalue: 'D#4',\tcolor: 'black' },\r\n\t\t{ label: 'E',\t\t\tvalue: 'E4',\tcolor: 'white' },\r\n\t\t{ label: 'F',\t\t\tvalue: 'F4',\tcolor: 'white' },\r\n\t\t{ label: 'F#\\n/\\nGb',\tvalue: 'F#4',\tcolor: 'black' },\r\n\t\t{ label: 'G',\t\t\tvalue: 'G4',\tcolor: 'white' },\r\n\t\t{ label: 'G#\\n/\\nAb',\tvalue: 'G#4',\tcolor: 'black' },\r\n\t\t{ label: 'A',\t\t\tvalue: 'A4',\tcolor: 'white' },\r\n\t\t{ label: 'A#\\n/\\nBb',\tvalue: 'A#4',\tcolor: 'black' },\r\n\t\t{ label: 'B',\t\t\tvalue: 'B4',\tcolor: 'white' }\r\n\t];\r\n\r\n\t@Prop({default: 'Pick'})\r\n\tbuttonLabel!: string;\r\n\r\n\t@Prop({default: 3})\r\n\tmin!: number;\r\n\r\n\t@Prop({default: 10})\r\n\tmax!: number;\r\n\r\n\t@Inject\r\n\tsampler!: Tone.Sampler;\r\n\t\r\n\tchroma = new Chroma();\r\n\r\n\tget resetDisabled(): boolean {\r\n\t\treturn this.chroma.noOfNotes === 0;\r\n\t}\r\n\r\n\tget pickDisabled(): boolean {\r\n\t\tlet noOfNotes = this.chroma.noOfNotes;\r\n\t\treturn noOfNotes < this.min || noOfNotes > this.max;\r\n\t}\r\n\r\n\tattack(note: string): void {\r\n\t\tTone.loaded().then(() => this.sampler.triggerAttack(note, Tone.now()));\r\n\t}\r\n\r\n\trelease(): void {\r\n\t\tthis.sampler.releaseAll();\r\n\t}\r\n\r\n}\r\n","import { render } from \"./chroma-picker.vue?vue&type=template&id=134bf3e2&scoped=true&ts=true\"\nimport script from \"./chroma-picker.vue?vue&type=script&lang=ts\"\nexport * from \"./chroma-picker.vue?vue&type=script&lang=ts\"\n\nimport \"./chroma-picker.vue?vue&type=style&index=0&id=134bf3e2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-134bf3e2\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-23c4de34\")\nconst _hoisted_1 = [\"onClick\"]\nconst _hoisted_2 = { class: \"collapse-expand\" }\nconst _hoisted_3 = [\"colspan\"]\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"help-content\" }, [\n  /*#__PURE__*/_createElementVNode(\"ul\", null, [\n    /*#__PURE__*/_createElementVNode(\"li\", null, [\n      /*#__PURE__*/_createTextVNode(\"If the scale has an enharmonic equivalent (e.g. Gb/F# Major,) you can click on \"),\n      /*#__PURE__*/_createElementVNode(\"u\", null, \"Gb/F#\"),\n      /*#__PURE__*/_createTextVNode(\" to show the alterative scale notes.\")\n    ]),\n    /*#__PURE__*/_createElementVNode(\"li\", null, \"Hover over an underlined scale name to see its aliases.\"),\n    /*#__PURE__*/_createElementVNode(\"li\", null, \"Click on  to play the scale notes;  to stop.\"),\n    /*#__PURE__*/_createElementVNode(\"li\", null, \"Click on a row to highlight/unhighlight it.\"),\n    /*#__PURE__*/_createElementVNode(\"li\", null, \"Click on [] to hide the scales; [+] to show them.\")\n  ])\n], -1)\nconst _hoisted_5 = [\n  _hoisted_4\n]\nconst _hoisted_6 = {\n  class: \"supertype-no-of-scales\",\n  colspan: \"2\"\n}\nconst _hoisted_7 = [\"onClick\"]\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"td\", null, null, -1)\nconst _hoisted_9 = { class: \"scale\" }\nconst _hoisted_10 = [\"onClick\"]\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"span\", null, \"/\", -1)\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"span\", null, \"\", -1)\nconst _hoisted_13 = { class: \"play-button\" }\n_popScopeId()\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_sampler_play_button = _resolveComponent(\"sampler-play-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"scale-detector\", {hidden: _ctx.loading}])\n  }, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"total-no-of-scales\", {'none': _ctx.totalNoOfScales === 0}])\n    }, _toDisplayString(_ctx.noOfScales(_ctx.totalNoOfScales)) + \" found.\", 3),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.results, (group, supertype) => {\n      return (_openBlock(), _createElementBlock(\"table\", {\n        class: \"matched-scales striped-table\",\n        key: supertype,\n        style: _normalizeStyle({order: Number(supertype)})\n      }, [\n        _createElementVNode(\"thead\", null, [\n          _createElementVNode(\"tr\", {\n            onClick: ($event: any) => (group.toggleCollapsed())\n          }, [\n            _createElementVNode(\"td\", _hoisted_2, \"[\" + _toDisplayString(group.collapsed ? '+' : '') + \"]\", 1),\n            _createElementVNode(\"td\", {\n              class: \"supertype\",\n              colspan: Number(supertype)\n            }, [\n              _createTextVNode(_toDisplayString(_ctx.displaySupertype(supertype)) + \" \", 1),\n              _createElementVNode(\"div\", {\n                class: \"help\",\n                onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n              }, _hoisted_5)\n            ], 8, _hoisted_3),\n            _createElementVNode(\"td\", _hoisted_6, _toDisplayString(_ctx.noOfScales(group.scales.length)), 1)\n          ], 8, _hoisted_1)\n        ]),\n        _createElementVNode(\"tbody\", {\n          class: _normalizeClass({hidden: group.collapsed})\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(group.scales, (scale) => {\n            return (_openBlock(), _createElementBlock(\"tr\", {\n              key: scale,\n              onClick: ($event: any) => (scale.toggleHighlight()),\n              class: _normalizeClass({'highlight-click': scale.highlight})\n            }, [\n              _hoisted_8,\n              _createElementVNode(\"td\", _hoisted_9, [\n                _createElementVNode(\"span\", {\n                  class: _normalizeClass({'tonic-option': scale.enharmonic}),\n                  onClick: _withModifiers(($event: any) => (scale.showAlternative()), [\"stop\"])\n                }, [\n                  _createElementVNode(\"span\", {\n                    class: _normalizeClass({dim: !scale.isCurrent(scale.tonic)})\n                  }, _toDisplayString(scale.tonic), 3),\n                  (scale.enharmonic)\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                        _hoisted_11,\n                        _createElementVNode(\"span\", {\n                          class: _normalizeClass({dim: !scale.isCurrent(scale.enharmonic)})\n                        }, _toDisplayString(scale.enharmonic), 3)\n                      ], 64))\n                    : _createCommentVNode(\"\", true)\n                ], 10, _hoisted_10),\n                _hoisted_12,\n                _createElementVNode(\"span\", {\n                  class: _normalizeClass({tooltip: scale.hasAliases})\n                }, [\n                  _createTextVNode(_toDisplayString(scale.name) + \" \", 1),\n                  (scale.hasAliases)\n                    ? (_openBlock(), _createElementBlock(\"span\", {\n                        key: 0,\n                        class: \"tooltip-text\",\n                        onClick: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"stop\"]))\n                      }, _toDisplayString(_ctx.pluralize('Alias', scale.aliases.length)) + \": \" + _toDisplayString(scale.aliases.join(', ')), 1))\n                    : _createCommentVNode(\"\", true)\n                ], 2)\n              ]),\n              _createElementVNode(\"td\", _hoisted_13, [\n                _createVNode(_component_sampler_play_button, {\n                  onPlay: (sampler, onStop) => _ctx.play(sampler, onStop, scale.notes)\n                }, null, 8, [\"onPlay\"])\n              ]),\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(scale.notes, (note) => {\n                return (_openBlock(), _createElementBlock(\"td\", {\n                  class: \"note\",\n                  key: note\n                }, _toDisplayString(note), 1))\n              }), 128))\n            ], 10, _hoisted_7))\n          }), 128))\n        ], 2)\n      ], 4))\n    }), 128))\n  ], 2))\n}","export enum ScaleSupertype {\r\n\tMonotonic = 1,\r\n\tDitonic = 2,\r\n\tTritonic = 3,\r\n\tTetratonic = 4,\r\n\tPentatonic = 5,\r\n\tHexatonic = 6,\r\n\tHeptatonic = 7,\r\n\tOctatonic = 8,\r\n\tNonatonic = 9,\r\n\tDecatonic = 10,\r\n\tChromatic = 12\r\n}\r\n\r\nexport namespace ScaleSupertype {\r\n\r\n\texport function toString(supertype: ScaleSupertype): string {\r\n\t\treturn `${ScaleSupertype[supertype]} (${supertype})`;\r\n\t}\r\n\r\n}","import { toTitleCase } from '@/functional/string';\r\nimport { Scale } from '@tonaljs/tonal';\r\n\r\nexport class MatchedScaleGroup {\r\n\r\n\tpublic collapsed = false;\r\n\r\n\tpublic constructor(public scales: MatchedScale[]) {}\r\n\r\n\tpublic toggleCollapsed(): void {\r\n\t\tthis.collapsed = !this.collapsed;\r\n\t}\r\n\r\n}\r\n\r\nexport class MatchedScale {\r\n\r\n\tprivate _currentTonic: string;\r\n\r\n\tpublic readonly name: string;\r\n\r\n\tpublic readonly aliases: string[];\r\n\r\n\tpublic notes: string[];\r\n\r\n\tpublic highlight = false;\r\n\r\n\tpublic constructor(public readonly tonic: string,\r\n\t\t\t\t\t\tpublic readonly enharmonic: string | undefined,\r\n\t\t\t\t\t\tpublic readonly ref: string) {\r\n\t\tlet scale = Scale.get(`${tonic} ${ref}`);\r\n\t\tthis.notes = scale.notes;\r\n\t\tthis.name = toTitleCase(ref);\r\n\t\tthis.aliases = scale.aliases.sort((a, b) => a.localeCompare(b)).map(toTitleCase);\r\n\t\tthis._currentTonic = tonic;\r\n\t}\r\n\r\n\tpublic get currentTonic(): string {\r\n\t\treturn this._currentTonic;\r\n\t}\r\n\r\n\tpublic get hasAliases(): boolean {\r\n\t\treturn this.aliases.length > 0;\r\n\t}\r\n\r\n\tpublic showAlternative(): void {\r\n\t\tif (this.enharmonic) {\r\n\t\t\tthis._currentTonic = (this.currentTonic === this.tonic) ? this.enharmonic : this.tonic;\r\n\t\t\tthis.notes = Scale.get(`${this.currentTonic} ${this.ref}`).notes;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic isCurrent(tonic: string): boolean {\r\n\t\treturn this._currentTonic === tonic;\r\n\t}\r\n\r\n\tpublic toggleHighlight(): void {\r\n\t\tthis.highlight = !this.highlight;\r\n\t}\r\n\r\n}","import { toDisplayString as _toDisplayString, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"span\", {\n    onClick: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (_ctx.isPlaying ? _ctx.stop() : _ctx.play()), [\"stop\"]))\n  }, _toDisplayString(_ctx.symbol), 1))\n}","\r\nimport { SamplerFacade } from '@/audio/sampler-facade';\r\nimport { PlaySymbol, SamplerPlayButton as SamplerPlayButtonInterface, StopSymbol } from '@/audio/sampler-play-button';\r\nimport { Inject } from 'typescript-ioc';\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n\temits: ['play']\r\n})\r\nexport default class SamplerPlayButton extends Vue implements SamplerPlayButtonInterface {\r\n\r\n\t@Inject\r\n\tsampler!: SamplerFacade;\r\n\r\n\tisPlaying = false;\r\n\r\n\tget symbol(): string {\r\n\t\treturn this.isPlaying ? StopSymbol : PlaySymbol;\r\n\t}\r\n\r\n\tplay(): void {\r\n\t\tthis.isPlaying = true;\r\n\t\tthis.$emit('play', this.sampler, this.onSamplerStopped);\r\n\t}\r\n\r\n\tstop(): void {\r\n\t\tthis.sampler.stop();\r\n\t}\r\n\r\n\tonSamplerStopped(): void {\r\n\t\tthis.isPlaying = false;\r\n\t}\r\n\r\n}\r\n","import { render } from \"./sampler-play-button.vue?vue&type=template&id=50a92304&scoped=true&ts=true\"\nimport script from \"./sampler-play-button.vue?vue&type=script&lang=ts\"\nexport * from \"./sampler-play-button.vue?vue&type=script&lang=ts\"\n\nimport \"./sampler-play-button.vue?vue&type=style&index=0&id=50a92304&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-50a92304\"]])\n\nexport default __exports__","\r\nimport { onStop, SamplerFacade } from '@/audio/sampler-facade';\r\nimport { ScaleDao } from '@/data-access/scale-dao';\r\nimport { toKey } from '@/data/data';\r\nimport { ScaleTonicRange } from '@/data/scale-type';\r\nimport { asDemonstration } from '@/functional/scale';\r\nimport { rotateRight } from '@/functional/string';\r\nimport { Chroma } from '@/models/chroma';\r\nimport { MatchedScale, MatchedScaleGroup } from '@/models/scale-finder';\r\nimport { ScaleSupertype } from '@/models/scale-supertype';\r\nimport { ScaleTonic } from '@/models/scale-tonic';\r\nimport { ScaleType } from '@tonaljs/tonal';\r\nimport pluralize from 'pluralize';\r\nimport { Inject } from 'typescript-ioc';\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Prop, Watch } from 'vue-property-decorator';\r\nimport SamplerPlayButton from './sampler-play-button.vue';\r\n\r\n@Options({\r\n\tcomponents: {\r\n\t\tSamplerPlayButton\r\n\t}\r\n})\r\nexport default class ScaleFinder extends Vue {\r\n\r\n\treadonly Tonics = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B']; // Do not change order\r\n\r\n\t@Prop({required: true})\r\n\tchroma!: Chroma;\r\n\r\n\t@Inject\r\n\tscaleDao!: ScaleDao;\r\n\r\n\tresults: Record<number, MatchedScaleGroup> = {};\r\n\r\n\tloading = false;\r\n\r\n\tget totalNoOfScales(): number {\r\n\t\treturn Object\r\n\t\t\t\t.values(this.results)\r\n\t\t\t\t.reduce((total, group) => group.scales.length + total, 0);\r\n\t}\r\n\r\n\tnoOfScales(number: number): string {\r\n\t\treturn `${number} ${pluralize('scale', number)}`;\r\n\t}\r\n\r\n\tpluralize(word: string, count: number): string {\r\n\t\treturn pluralize(word, count);\r\n\t}\r\n\r\n\tdisplaySupertype(supertype: string): string {\r\n\t\treturn ScaleSupertype.toString(Number(supertype));\r\n\t}\r\n\r\n\t@Watch('chroma', {immediate: true})\r\n\tasync showResults(chroma: Chroma): Promise<void> {\r\n\t\tthis.loading = true;\r\n\t\tlet regex = new RegExp(chroma.value.reduce((p, flag) => p + (flag ? '1' : '.'), ''));\r\n\t\tlet noOfNotes = chroma.noOfNotes;\r\n\t\tlet matched: Record<number, MatchedScaleGroup> = {};\r\n\t\tfor (let scale of ScaleType.all()) {\r\n\t\t\tlet supertype = scale.intervals.length;\r\n\t\t\tif (noOfNotes <= supertype && supertype < ScaleSupertype.Chromatic) {\r\n\t\t\t\tlet range: ScaleTonicRange | undefined;\r\n\t\t\t\tfor (let x = 0; x < 12; x++) {\r\n\t\t\t\t\tif (regex.test(rotateRight(scale.chroma, x))) {\r\n\t\t\t\t\t\tif (!(supertype in matched)) {\r\n\t\t\t\t\t\t\tmatched[supertype] = new MatchedScaleGroup([]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (range === undefined) {\r\n\t\t\t\t\t\t\tlet key = toKey(scale.name);\r\n\t\t\t\t\t\t\trange = (await this.scaleDao.get(key)).get().tonicRange;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet tonic = this.Tonics[x];\r\n\t\t\t\t\t\tlet tonicFirst = ScaleTonic.isWithin(range, tonic);\r\n\t\t\t\t\t\tlet alterative = ScaleTonic.enharmonicOfTonic(tonic);\r\n\t\t\t\t\t\tmatched[supertype].scales.push(new MatchedScale(\r\n\t\t\t\t\t\t\ttonicFirst ? tonic : alterative!, \r\n\t\t\t\t\t\t\ttonicFirst ? alterative : tonic,\r\n\t\t\t\t\t\t\tscale.name\r\n\t\t\t\t\t\t));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tObject\r\n\t\t\t.values(matched)\r\n\t\t\t.forEach(group => group.scales.sort((a, b) => a.name.localeCompare(b.name)));\r\n\t\tthis.results = matched;\r\n\t\tthis.loading = false;\r\n\t}\r\n\r\n\tplay(sampler: SamplerFacade, onStop: onStop, notes: string[]): void {\r\n\t\tsampler.play(asDemonstration(notes), {onStop});\r\n\t}\r\n\r\n}\r\n","import { render } from \"./scale-finder.vue?vue&type=template&id=23c4de34&scoped=true&ts=true\"\nimport script from \"./scale-finder.vue?vue&type=script&lang=ts\"\nexport * from \"./scale-finder.vue?vue&type=script&lang=ts\"\n\nimport \"./scale-finder.vue?vue&type=style&index=0&id=23c4de34&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-23c4de34\"]])\n\nexport default __exports__","\r\nimport { SamplerFacade } from '@/audio/sampler-facade';\r\nimport ChromaPicker from '@/components/chroma-picker.vue';\r\nimport ScaleFinder from '@/components/scale-finder.vue';\r\nimport { Chroma } from '@/models/chroma';\r\nimport { Inject } from 'typescript-ioc';\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n\tcomponents: {\r\n\t\tChromaPicker,\r\n\t\tScaleFinder\r\n\t}\r\n})\r\nexport default class ScaleFinderInterface extends Vue {\r\n\r\n\t@Inject\r\n\tsampler!: SamplerFacade;\r\n\r\n\tchroma: { value?: Chroma } = {};\r\n\r\n\tshowResults(chroma: Chroma): void {\r\n\t\tthis.sampler.stop();\r\n\t\tthis.chroma.value = chroma;\r\n\t}\r\n\r\n}\r\n","import { render } from \"./scale-finder-interface.vue?vue&type=template&id=d3509604&scoped=true&ts=true\"\nimport script from \"./scale-finder-interface.vue?vue&type=script&lang=ts\"\nexport * from \"./scale-finder-interface.vue?vue&type=script&lang=ts\"\n\nimport \"./scale-finder-interface.vue?vue&type=style&index=0&id=d3509604&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d3509604\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Scale Notes Table\", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_scale_type_picker = _resolveComponent(\"scale-type-picker\")!\n  const _component_scale_notes_table = _resolveComponent(\"scale-notes-table\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _hoisted_1,\n    _createVNode(_component_scale_type_picker, {\n      \"scale-type\": _ctx.scaleType,\n      \"exclude-supertypes\": _ctx.exclude,\n      onPicked: _ctx.updateRoute\n    }, null, 8, [\"scale-type\", \"exclude-supertypes\", \"onPicked\"]),\n    _createVNode(_component_scale_notes_table, { \"scale-type\": _ctx.scaleType }, null, 8, [\"scale-type\"])\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-3eeed8da\")\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { class: \"scale-name\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"help\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"help-content\" }, [\n    /*#__PURE__*/_createElementVNode(\"ul\", null, [\n      /*#__PURE__*/_createElementVNode(\"li\", null, \"Click on a row to highlight/unhighlight it.\"),\n      /*#__PURE__*/_createElementVNode(\"li\", null, \"Click on  to play the scale notes;  to stop.\")\n    ])\n  ])\n], -1)\nconst _hoisted_4 = {\n  key: 0,\n  class: \"alias\"\n}\nconst _hoisted_5 = { class: \"striped-table\" }\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"td\", null, \"Tonic\", -1)\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"td\", null, \"Enharmonic\", -1)\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"td\", null, null, -1)\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"td\", null, \"Accidentals\", -1)\nconst _hoisted_10 = [\"onMouseover\", \"onMouseout\", \"onClick\"]\n_popScopeId()\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_sampler_play_button = _resolveComponent(\"sampler-play-button\")!\n\n  return (_ctx.table.scaleName)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"h2\", null, _toDisplayString(_ctx.table.scaleName), 1),\n          _hoisted_3\n        ]),\n        (_ctx.table.hasAliases)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString(_ctx.alias), 1))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"table\", _hoisted_5, [\n          _createElementVNode(\"thead\", null, [\n            _createElementVNode(\"tr\", null, [\n              _hoisted_6,\n              _hoisted_7,\n              _hoisted_8,\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.table.notesPerOctave, (index) => {\n                return (_openBlock(), _createElementBlock(\"td\", { key: index }, _toDisplayString(index), 1))\n              }), 128)),\n              _hoisted_9\n            ])\n          ]),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.table.rows, (row, index) => {\n              return (_openBlock(), _createElementBlock(\"tr\", {\n                key: index,\n                onMouseover: ($event: any) => (_ctx.table.toggleHovered(index)),\n                onMouseout: ($event: any) => (_ctx.table.toggleHovered(index)),\n                onClick: ($event: any) => (row.toggleClicked()),\n                class: _normalizeClass({\r\n\t\t\t\t\t\t'highlight-hover': row.hovered,\r\n\t\t\t\t\t\t'highlight-click': row.clicked,\r\n\t\t\t\t\t\t'dim': row.dim,\r\n\t\t\t\t\t\t'gradual': row.gradualDim\r\n\t\t\t\t\t})\n              }, [\n                _createElementVNode(\"td\", null, _toDisplayString(row.tonic), 1),\n                _createElementVNode(\"td\", null, _toDisplayString(row.enharmonic), 1),\n                _createElementVNode(\"td\", null, [\n                  _createVNode(_component_sampler_play_button, {\n                    onPlay: (sampler, onStop) => _ctx.play(sampler, onStop, row.notes)\n                  }, null, 8, [\"onPlay\"])\n                ]),\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(row.notes, (note) => {\n                  return (_openBlock(), _createElementBlock(\"td\", { key: note }, _toDisplayString(note), 1))\n                }), 128)),\n                _createElementVNode(\"td\", null, _toDisplayString(row.accidentals), 1)\n              ], 42, _hoisted_10))\n            }), 128))\n          ])\n        ])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","import { ScaleTonicRange } from '@/data/scale-type';\r\nimport { Optional } from 'typescript-optional';\r\nimport { ScaleTonic } from './scale-tonic';\r\n\r\nexport class Row {\r\n\r\n\tpublic constructor(public readonly tonicIndex: number,\r\n\t\t\t\t\t\tpublic readonly notes: string[],\r\n\t\t\t\t\t\tpublic readonly range: ScaleTonicRange,\r\n\t\t\t\t\t\tpublic hovered = false,\r\n\t\t\t\t\t\tpublic clicked = false) {}\r\n\r\n\tpublic get tonic(): string {\r\n\t\treturn ScaleTonic.tonicOfIndex(this.tonicIndex);\r\n\t}\r\n\r\n\tpublic get enharmonic(): string {\r\n\t\treturn Optional\r\n\t\t\t\t.ofNullable(ScaleTonic.enharmonicOfTonicIndex(this.tonicIndex))\r\n\t\t\t\t.orElse('-');\r\n\t}\r\n\r\n\tpublic get enharmonicIndex(): number {\r\n\t\treturn ScaleTonic.indexOfTonic(this.enharmonic);\r\n\t}\r\n\r\n\tpublic get accidentals(): string {\r\n\t\treturn this.notes\r\n\t\t\t\t\t.map(note => note.slice(1))\r\n\t\t\t\t\t.filter(accidental => accidental != '')\r\n\t\t\t\t\t.join(',');\r\n\t}\r\n\r\n\tpublic get dim(): boolean {\r\n\t\treturn this.tonicIndex < this.range.upper || \r\n\t\t\t\tthis.tonicIndex > this.range.lower;\r\n\t}\r\n\r\n\tpublic get gradualDim(): boolean {\r\n\t\treturn this.tonicIndex + 1 == this.range.upper || \r\n\t\t\t\tthis.tonicIndex - 1 == this.range.lower\r\n\t}\r\n\r\n\tpublic toggleHovered(): void {\r\n\t\tthis.hovered = !this.hovered;\r\n\t}\r\n\r\n\tpublic toggleClicked(): void {\r\n\t\tthis.clicked = !this.clicked;\r\n\t}\r\n\r\n}\r\n\r\nexport class Table {\r\n\t\r\n\tpublic constructor(public readonly scaleName: string,\r\n\t\t\t\t\t\tprivate readonly _aliases: string[],\r\n\t\t\t\t\t\tpublic readonly notesPerOctave: number,\r\n\t\t\t\t\t\tpublic readonly rows: Row[]) {}\r\n\r\n\tpublic get numberOfAliases(): number {\r\n\t\treturn this._aliases.length;\r\n\t}\r\n\r\n\tpublic get hasAliases(): boolean {\r\n\t\treturn this.numberOfAliases > 0;\r\n\t}\r\n\r\n\tpublic get aliases(): string {\r\n\t\treturn this._aliases.join(', ');\r\n\t}\r\n\r\n\t/**\r\n\t* Highlight or unhighlight a particular scale and its enharmonic equivalent\r\n\t* if it has any. For example, C's enharmonic equivalent is B#, so when \r\n\t* highlighting the C scale row, B# will also be highlighted.\r\n\t* \r\n\t* @param index row index of a particular scale\r\n\t*/\r\n\tpublic toggleHovered(index: number): void {\r\n\t\tthis.rows[index].toggleHovered();\r\n\t\tlet enharmonicIndex = this.rows[index].enharmonicIndex;\r\n\t\tif (enharmonicIndex > -1) {\r\n\t\t\tthis.rows[enharmonicIndex].toggleHovered();\r\n\t\t}\r\n\t}\r\n\r\n}","\r\nimport { onStop, SamplerFacade } from '@/audio/sampler-facade';\r\nimport { ScaleDao } from '@/data-access/scale-dao';\r\nimport { allTonicsNotes, asDemonstration } from '@/functional/scale';\r\nimport { Row, Table } from '@/models/scale-notes-table';\r\nimport pluralize from 'pluralize';\r\nimport { Inject } from 'typescript-ioc';\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Prop, Watch } from 'vue-property-decorator';\r\nimport SamplerPlayButton from './sampler-play-button.vue';\r\n\r\n@Options({\r\n\tcomponents: {\r\n\t\tSamplerPlayButton\r\n\t}\r\n})\r\nexport default class ScaleNotesTable extends Vue {\r\n\r\n\t@Prop({require: true})\r\n\tscaleType!: string;\r\n\r\n\t@Inject\r\n\tscaleDao!: ScaleDao;\r\n\r\n\ttable = {} as Table;\r\n\r\n\tget alias(): string {\r\n\t\treturn `${pluralize('Alias', this.table.numberOfAliases)}: ${this.table.aliases}`;\r\n\t}\r\n\r\n\t@Watch('scaleType', {immediate: true})\r\n\tasync loadTable(key: string): Promise<void> {\r\n\t\tif (key) {\r\n\t\t\t(await this.scaleDao.get(key)).ifPresent(async scale => {\r\n\t\t\t\tlet aliases = await this.scaleDao.displayOf(scale.aliasKeys);\r\n\t\t\t\tlet notesArray = allTonicsNotes(scale.ref);\r\n\t\t\t\tthis.table = new Table(\r\n\t\t\t\t\tscale.display, \r\n\t\t\t\t\taliases, \r\n\t\t\t\t\tscale.supertype, \r\n\t\t\t\t\tnotesArray.map((notes, index) => new Row(index, notes, scale.tonicRange))\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tplay(sampler: SamplerFacade, onStop: onStop, notes: string[]): void {\r\n\t\tsampler.play(asDemonstration(notes), {onStop});\r\n\t}\r\n\r\n}\r\n","import { render } from \"./scale-notes-table.vue?vue&type=template&id=3eeed8da&scoped=true&ts=true\"\nimport script from \"./scale-notes-table.vue?vue&type=script&lang=ts\"\nexport * from \"./scale-notes-table.vue?vue&type=script&lang=ts\"\n\nimport \"./scale-notes-table.vue?vue&type=style&index=0&id=3eeed8da&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3eeed8da\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-e71b5c2c\")\nconst _hoisted_1 = { class: \"scale-type-picker\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"supertype\" }, \"Type\", -1)\nconst _hoisted_3 = [\"value\"]\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"type\" }, \"Scale\", -1)\nconst _hoisted_5 = [\"value\"]\nconst _hoisted_6 = [\"value\"]\n_popScopeId()\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", null, [\n      _hoisted_2,\n      _withDirectives(_createElementVNode(\"select\", {\n        id: \"supertype\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_ctx.supertype = $event)),\n        onChange: _cache[1] || (_cache[1] = ($event: any) => (_ctx.loadTypes(Number($event.target.value)))),\n        size: \"10\"\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.supertypes, (supertype, key) => {\n          return (_openBlock(), _createElementBlock(\"option\", {\n            key: key,\n            value: key\n          }, _toDisplayString(supertype), 9, _hoisted_3))\n        }), 128))\n      ], 544), [\n        [_vModelSelect, _ctx.supertype]\n      ])\n    ]),\n    _createElementVNode(\"div\", null, [\n      _hoisted_4,\n      _createElementVNode(\"select\", {\n        id: \"type\",\n        value: _ctx.scaleType,\n        onChange: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('picked', $event.target.value))),\n        size: \"10\"\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.types, (type, key) => {\n          return (_openBlock(), _createElementBlock(\"option\", {\n            key: key,\n            value: key,\n            class: _normalizeClass({'alias-of-selected': type.aliasOfSelected})\n          }, _toDisplayString(type.display), 11, _hoisted_6))\n        }), 128))\n      ], 40, _hoisted_5)\n    ])\n  ]))\n}","export class ScaleType {\r\n\r\n\tpublic constructor(public readonly display: string,\r\n\t\t\t\t\t\tpublic readonly aliasKeys: string[],\r\n\t\t\t\t\t\tpublic aliasOfSelected = false) {}\r\n\r\n\tpublic toggleAliasOfSelected(): void {\r\n\t\tthis.aliasOfSelected = !this.aliasOfSelected;\r\n\t}\r\n\r\n}","\r\nimport { ScaleDao } from '@/data-access/scale-dao';\r\nimport { ScaleType as Dto } from '@/data/scale-type';\r\nimport { ScaleSupertype } from '@/models/scale-supertype';\r\nimport { ScaleType } from '@/models/scale-type-picker';\r\nimport { Inject } from 'typescript-ioc';\r\nimport { Optional } from 'typescript-optional';\r\nimport { Vue } from 'vue-class-component';\r\nimport { Prop, Watch } from 'vue-property-decorator';\r\n\r\nexport default class ScaleTypePicker extends Vue {\r\n\r\n\t@Prop({default: []})\r\n\texcludeSupertypes!: ScaleSupertype[];\r\n\r\n\t@Prop({default: ''})\r\n\tscaleType!: string;\r\n\r\n\t@Inject\r\n\tscaleDao!: ScaleDao;\r\n\r\n\tsupertypes: Record<string, string> = {};\r\n\r\n\ttypes: Record<string, ScaleType> = {};\r\n\r\n\tsupertype: number = -1;\r\n\r\n\tasync mounted(): Promise<void> {\r\n\t\t// Find the scale type to be selected from database, and load supertypes options synchronously.\r\n\t\tlet [scale] = await Promise.all([\r\n\t\t\tthis.scaleType ? this.scaleDao.get(this.scaleType) : Promise.resolve(Optional.empty<Dto>()), \r\n\t\t\tthis.loadSuperTypes()\r\n\t\t]);\r\n\t\t// Check if the scale type exists, and if its supertype is one of the options.\r\n\t\t// If yes, then they will be the selected scale type and supertype.\r\n\t\t// Otherwise, set the supertype to the first option\r\n\t\tscale.ifPresent(data => {\r\n\t\t\tif (data.supertype in this.supertypes) {\r\n\t\t\t\tthis.supertype = data.supertype;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (this.supertype === -1) {\r\n\t\t\tthis.supertype = Number(Object.keys(this.supertypes)[0]);\r\n\t\t}\r\n\t\t// Load type options\r\n\t\tawait this.loadTypes(this.supertype);\r\n\t}\r\n\r\n\tasync loadSuperTypes(): Promise<void> {\r\n\t\tthis.supertypes = (await this.scaleDao.supertypes())\r\n\t\t\t\t\t\t\t.filter(supertype => !this.excludeSupertypes.includes(supertype))\r\n\t\t\t\t\t\t\t.reduce((options, supertype) => {\r\n\t\t\t\t\t\t\t\tlet display = ScaleSupertype.toString(supertype);\r\n\t\t\t\t\t\t\t\tif (display) {\r\n\t\t\t\t\t\t\t\t\toptions[supertype] = display;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn options;\r\n\t\t\t\t\t\t\t}, {} as Record<string, string>);\r\n\t}\r\n\r\n\tasync loadTypes(supertype: number): Promise<void> {\r\n\t\t// Load types\r\n\t\tthis.types = (await this.scaleDao.getBySupertype(supertype))\r\n\t\t\t\t\t\t.reduce((options, type) => {\r\n\t\t\t\t\t\t\toptions[type.key] = new ScaleType(type.display, type.aliasKeys);\r\n\t\t\t\t\t\t\treturn options;\r\n\t\t\t\t\t\t}, {} as Record<string, ScaleType>);\r\n\t\t// Highlight aliases\r\n\t\tthis.toggleAliasHighlight(this.scaleType);\r\n\t\t// Position the selected option (or the first option) to the top\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tlet select = this.$el.querySelector('.scale-type-picker #type');\r\n\t\t\tlet selected = this.$el.querySelector('.scale-type-picker #type option:checked') as HTMLElement;\r\n\t\t\tselect.scrollTop = (selected) ? selected.offsetTop - select.offsetTop : 0;\r\n\t\t});\r\n\t}\r\n\r\n\t@Watch('scaleType')\r\n\tonTypeChanged(newType: string, oldType: string): void {\r\n\t\tthis.toggleAliasHighlight(oldType);\r\n\t\tthis.toggleAliasHighlight(newType);\r\n\t}\r\n\r\n\ttoggleAliasHighlight(type: string): void {\r\n\t\tif (type in this.types) {\r\n\t\t\tfor (let alias of this.types[type].aliasKeys) {\r\n\t\t\t\tif (alias in this.types) {\r\n\t\t\t\t\tthis.types[alias].toggleAliasOfSelected();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { render } from \"./scale-type-picker.vue?vue&type=template&id=e71b5c2c&scoped=true&ts=true\"\nimport script from \"./scale-type-picker.vue?vue&type=script&lang=ts\"\nexport * from \"./scale-type-picker.vue?vue&type=script&lang=ts\"\n\nimport \"./scale-type-picker.vue?vue&type=style&index=0&id=e71b5c2c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e71b5c2c\"]])\n\nexport default __exports__","\r\nimport ScaleNotesTable from '@/components/scale-notes-table.vue';\r\nimport ScaleTypePicker from '@/components/scale-type-picker.vue';\r\nimport { ScaleSupertype } from '@/models/scale-supertype';\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Prop } from 'vue-property-decorator';\r\n\r\n@Options({\r\n\tcomponents: {\r\n\t\tScaleTypePicker,\r\n\t\tScaleNotesTable\r\n\t}\r\n})\r\nexport default class ScaleNotesTableSearch extends Vue {\r\n\r\n\t@Prop()\r\n\tscaleType!: string;\r\n\r\n\texclude = [ScaleSupertype.Chromatic];\r\n\r\n\tupdateRoute(scaleType: string): void {\r\n\t\tthis.$router.push(`/scale-notes-table/${scaleType}`);\r\n\t}\r\n\r\n}\r\n","import { render } from \"./scale-notes-table-search.vue?vue&type=template&id=85fe3f14&ts=true\"\nimport script from \"./scale-notes-table-search.vue?vue&type=script&lang=ts\"\nexport * from \"./scale-notes-table-search.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\github\\\\music-app\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { MajorMinorScale } from '@/models/major-minor-scale';\r\nimport Home from '@/views/home.vue';\r\nimport MajorMinorScaleTriadsSearch from '@/views/major-minor-scale-triads-search.vue';\r\nimport NotFound from '@/views/not-found.vue';\r\nimport ScaleFinderInterface from '@/views/scale-finder-interface.vue';\r\nimport ScaleNotesTableSearch from '@/views/scale-notes-table-search.vue';\r\nimport { createRouter, createWebHashHistory, RouteRecordRaw } from 'vue-router';\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n\t{\r\n\t\tpath: '/',\r\n\t\tname: 'home',\r\n\t\tcomponent: Home\r\n\t},\r\n\t{\r\n\t\tpath: '/scale-finder',\r\n\t\tcomponent: ScaleFinderInterface\r\n\t},\r\n\t{\r\n\t\tpath: '/scale-notes-table',\r\n\t\tcomponent: ScaleNotesTableSearch,\r\n\t\tprops: route => ({\r\n\t\t\tscaleType: route.params.scaleType as string,\r\n\t\t}),\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: '',\r\n\t\t\t\tredirect: '/scale-notes-table/major'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: ':scaleType',\r\n\t\t\t\tcomponent: ScaleNotesTableSearch\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '/scale-triads',\r\n\t\tcomponent: MajorMinorScaleTriadsSearch,\r\n\t\tprops: route => ({\r\n\t\t\tscale: {\r\n\t\t\t\ttype: (route.params.type as string).toLowerCase(),\r\n\t\t\t\tsubtype: (route.params.subtype as string).toLowerCase(),\r\n\t\t\t\ttonic: (route.params.tonic as string).toLowerCase()\r\n\t\t\t} as MajorMinorScale\r\n\t\t}),\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: '',\r\n\t\t\t\tredirect: '/scale-triads/major/ionian/c'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: ':type/:subtype/:tonic',\r\n\t\t\t\tcomponent: ScaleNotesTableSearch\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: \"/:catchAll(.*)\",\r\n\t\tcomponent: NotFound\r\n\t}\r\n]\r\n\r\nconst router = createRouter({\r\n\thistory: createWebHashHistory(process.env.BASE_URL),\r\n\troutes\r\n});\r\n\r\nexport default router;","import { SamplerFacade } from '@/audio/sampler-facade';\r\nimport router from '@/router';\r\nimport { Sampler } from 'tone';\r\n\r\nconst PianoSamples: Record<string, string> = {\r\n\t'A3': require('@/assets/audio/notes/piano-a-3.mp3'),\r\n\t'C4': require('@/assets/audio/notes/piano-c-4.mp3'),\r\n\t'D#4': require('@/assets/audio/notes/piano-d-sharp-4.mp3'),\r\n\t'F#4': require('@/assets/audio/notes/piano-f-sharp-4.mp3'),\r\n\t'A4': require('@/assets/audio/notes/piano-a-4.mp3'),\r\n\t'C5': require('@/assets/audio/notes/piano-c-5.mp3'),\r\n\t'D#5': require('@/assets/audio/notes/piano-d-sharp-5.mp3'),\r\n\t'F#5': require('@/assets/audio/notes/piano-f-sharp-5.mp3'),\r\n\t'A5': require('@/assets/audio/notes/piano-a-5.mp3'),\r\n\t'C6': require('@/assets/audio/notes/piano-c-6.mp3'),\r\n\t'D#6': require('@/assets/audio/notes/piano-d-sharp-6.mp3')\r\n};\r\n\r\nconst PianoSampler = new Sampler(PianoSamples).toDestination();\r\n\r\nconst PianoSamplerFacade = new SamplerFacade(PianoSampler);\r\nrouter.beforeEach((to, from, next) => {\r\n\tPianoSamplerFacade.stop();\r\n\tnext();\r\n});\r\n\r\nexport default [\r\n\t{ bindName: 'sampler.samples', to: PianoSamples },\r\n\t{ bind: Sampler, factory: () => PianoSampler },\r\n\t{ bind: SamplerFacade, factory: () => PianoSamplerFacade }\r\n];","import { DexieScaleDao, ScaleDao } from '@/data-access/scale-dao';\r\n\r\nexport default [\r\n\t{ bind: ScaleDao, to: DexieScaleDao }\r\n];","import 'reflect-metadata';\r\nimport { Container } from 'typescript-ioc';\r\nimport { createApp } from 'vue';\r\nimport App from './app.vue';\r\nimport audioConfig from './config/audio.config';\r\nimport dataAccessConfig from './config/data-access-config';\r\nimport router from './router';\r\n\r\nContainer.configure(...audioConfig, ...dataAccessConfig);\r\ncreateApp(App).use(router).mount('#app')","module.exports = __webpack_public_path__ + \"media/piano-a-5.62f8eb67.mp3\";","module.exports = __webpack_public_path__ + \"media/piano-d-sharp-5.6c5a0293.mp3\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./major-minor-scale-picker.vue?vue&type=style&index=0&id=07dac1f8&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"media/piano-a-4.f95eb693.mp3\";","module.exports = __webpack_public_path__ + \"media/piano-c-5.8aa7b917.mp3\";"],"sourceRoot":""}