(function(t){function e(e){for(var r,u,a=e[0],i=e[1],s=e[2],p=0,d=[];p<a.length;p++)u=a[p],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&d.push(o[u][0]),o[u]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);l&&l(e);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(c.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},o={app:0},c=[];function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/translink-rtti/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=e,a=a.slice();for(var s=0;s<a.length;s++)e(a[s]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"32db":function(t,e,n){},"62e7":function(t,e,n){},"8cee":function(t,e,n){"use strict";n("32db")},"9de4":function(t,e,n){"use strict";n("b846")},b6b4:function(t,e,n){"use strict";n("62e7")},b846:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);var r=n("7a23");function o(t,e){const n=Object(r["y"])("router-view");return Object(r["q"])(),Object(r["d"])(n)}n("b6b4");var c=n("6b0d"),u=n.n(c);const a={},i=u()(a,[["render",o]]);var s=i,l=n("6605");function p(t,e,n,o,c,u){var a=Object(r["y"])("stop-schedule");return Object(r["q"])(),Object(r["e"])(r["a"],null,[Object(r["f"])("div",null,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(t.stops,(function(t,e){return Object(r["q"])(),Object(r["e"])("div",{key:e},[Object(r["g"])(a,{detail:t},null,8,["detail"])])})),128))]),Object(r["f"])("button",{onClick:e[0]||(e[0]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.load&&t.load.apply(t,e)})},"Refresh")],64)}var d=n("9ab4"),b={headers:{Accept:"application/json","Content-Type":"application/json"}},f=function(){function t(){}return t.stopEstimate=function(t){return Object(d["a"])(this,void 0,Promise,(function(){var e,n,r,o;return Object(d["d"])(this,(function(c){switch(c.label){case 0:e="https://api.translink.ca/rttiapi/v1/stops/"+t.stopNo+"/estimates?apikey="+t.apiKey+"&routeNo="+t.routeNo,void 0!==t.count&&(e+="&count="+t.count),void 0!==t.timeFrame&&(e+="&timeframe="+t.timeFrame),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,fetch(e,b)];case 2:return n=c.sent(),[4,n.json()];case 3:if(r=c.sent(),n.ok)return[2,r[0]];throw new Error(r);case 4:throw o=c.sent(),o;case 5:return[2]}}))}))},t}(),j=function(t){return Object(r["u"])("data-v-6d9eb5d9"),t=t(),Object(r["r"])(),t},O={colspan:"5"},h=j((function(){return Object(r["f"])("tr",null,[Object(r["f"])("td",null,"Destination"),Object(r["f"])("td",null,"Leaving At"),Object(r["f"])("td",null,"Arriving In"),Object(r["f"])("td",null,"Status"),Object(r["f"])("td",null,"Last Updated")],-1)}));function v(t,e,n,o,c,u){return Object(r["q"])(),Object(r["e"])("table",null,[Object(r["f"])("thead",null,[Object(r["f"])("tr",null,[Object(r["f"])("td",O,Object(r["A"])(t.detail.routeNo)+" - Stop #"+Object(r["A"])(t.detail.stopNo),1)]),h]),Object(r["f"])("tbody",null,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(t.detail.list,(function(t,e){return Object(r["q"])(),Object(r["e"])("tr",{key:e,class:Object(r["m"])(t.status)},[Object(r["f"])("td",null,Object(r["A"])(t.destination),1),Object(r["f"])("td",null,Object(r["A"])(t.expectedLeaveTime),1),Object(r["f"])("td",null,Object(r["A"])(t.expectedCountdown),1),Object(r["f"])("td",null,Object(r["A"])(t.status),1),Object(r["f"])("td",null,Object(r["A"])(t.lastUpdate),1)],2)})),128))])])}var y=n("ce1f"),m=n("1b40"),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(d["c"])(e,t),Object(d["b"])([Object(m["a"])({required:!0})],e.prototype,"detail",void 0),e}(y["b"]),x=w;n("8cee");const N=u()(x,[["render",v],["__scopeId","data-v-6d9eb5d9"]]);var g=N,k=function(){function t(){}return t.fromApiResponse=function(t){for(var e=[],n=0,r=t.Schedules;n<r.length;n++){var o=r[n],c="";if(o.CancelledStop||o.CancelledTrip)c="Cancelled";else if(o.ExpectedCountdown<0)c="Departed";else switch(o.ScheduleStatus){case" ":c="On Time";break;case"*":c="Scheduled";break;case"+":c="Early";break;case"-":c="Delayed";break}e.push({destination:o.Destination,expectedLeaveTime:o.ExpectedLeaveTime.split(" ")[0],expectedCountdown:o.ExpectedCountdown,status:c,lastUpdate:o.LastUpdate})}return e.sort((function(t,e){return t.expectedCountdown-e.expectedCountdown}))},t}(),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.filter=[{routeNo:"025",stopNo:50665,timeFrame:60},{routeNo:"009",stopNo:52094,timeFrame:60}],e.stops=[],e}return Object(d["c"])(e,t),e.prototype.mounted=function(){this.load()},e.prototype.load=function(){var t=this;this.filter.forEach((function(e,n){return Object(d["a"])(t,void 0,void 0,(function(){var t,r,o,c,u;return Object(d["d"])(this,(function(a){switch(a.label){case 0:return t=this.stops,r=n,u={routeNo:e.routeNo,stopNo:e.stopNo},c=(o=k).fromApiResponse,[4,f.stopEstimate({apiKey:this.apiKey,routeNo:e.routeNo,stopNo:e.stopNo,timeFrame:60})];case 1:return[2,t[r]=(u.list=c.apply(o,[a.sent()]),u)]}}))}))}))},Object(d["b"])([Object(m["a"])()],e.prototype,"apiKey",void 0),e=Object(d["b"])([Object(y["a"])({components:{StopSchedule:g}})],e),e}(y["b"]),A=S;n("9de4");const C=u()(A,[["render",p],["__scopeId","data-v-73e78191"]]);var _=C,q=[{path:"/stop-estimate/:apiKey",component:_,props:function(t){return{apiKey:t.params.apiKey}}}],E=Object(l["a"])({history:Object(l["b"])(),routes:q}),P=E;Object(r["c"])(s).use(P).mount("#app")}});
//# sourceMappingURL=app.f62f7941.js.map